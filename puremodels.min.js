angular.module("ng-puremodels",[]),angular.module("ng-puremodels").factory("action",[function(){var a={add:"fa fa-plus"},b={iconClassesPrefix:"fa fa-",btnClasses:"btn btn-default",btnClassesProcessing:"btn btn-warning",btnClassesFinishSuccess:"btn btn-success",btnClassesFinishFailure:"btn btn-danger",text_processing_suffix:"_processing",text_finish_success_suffix:"_success",text_finish_failure_suffix:"_failure"},c=function(c,d,e){var f=this;void 0===e&&(e=b,e.cssAliases=a),void 0===e.cssAliases&&(e.cssAliases=a),this.name=c,this.text=c,this.visible=!0,this.processing=!1,this.finishing=!1,this.iconClasses=void 0===e.cssAliases[c]?"fa fa-"+c:e.cssAliases[c],this.disabled=!1,this.btnClasses="btn btn-default",this.invoke=angular.isFunction(d[c])?d[c]:function(){this.console.log("empty handler for:"+c)},this.processing=function(){f.disabled=!0,f.textOrigin=f.text,f.btnClassesOrigin=f.btnClasses,f.text=f.text+"_processing",f.btnClasses="btn btn-warning"},this.finishing=function(a){a?(f.text=f.textOrigin+"_success",f.btnClasses="btn btn-success"):(f.text=f.textOrigin+"_failure",f.btnClasses="btn btn-danger")},this.normal=function(){f.text=f.textOrigin,f.btnClasses=f.btnClassesOrigin}};return c}]),angular.module("ng-puremodels").factory("async",["$timeout",function(a){var b=function(){function b(b,c){e++,f[e]=b;var d=e;return a(function(){delete f[d]},1e3*c),d}function c(a,b){delete f[a],f[a]={},e++;var c=e;return f[a][c]=b,c}function d(b,c,d){delete f[b],f[b]={},e++;var g=e,h=b;return f[b][g]=c,a(function(){delete f[h][g],console.log("deleted")},1e3*d),g}var e=0,f={};this.objectsMap=f,this.addAndDeleteAfterTimeout=b,this.replaceAndDeleteAfterTimeout=d,this.replace=c};return b}]),angular.module("ng-puremodels").factory("crud",["action","sortable","$timeout",function(a,b,c){var d=function(d,e,f){function g(){p.adding=!0,o()}function h(){p.adding=!1,p.editing=!1,p.adding||p.editing||-1!==p.getSelectedIndex()&&p.toggleIndex(p.getSelectedIndex()),o()}function i(){p.adding=!1,p.editing=!0,p.itemInEditOriginal=q.selectable.getSelectedObject(),p.itemInEdit=angular.copy(p.itemInEditOriginal),o()}function j(a){c(function(){a(p.itemInEdit)},1e3)}function k(a){c(function(){a(p.itemInEdit)},1e3)}function l(a){var b=q.selectable.getSelectedObject();c(function(){a(b)},1e3)}function m(){p.adding&&(p.error=void 0,p.saving=!0,p.actions.save.processing(),p.persistAdd(function(a){q.list.push(a),q.selectable.restoreSelection(),q.sorting.onChange(),p.actions.save.finishing(!0),p.saving=!1,c(function(){p.actions.save.normal(),p.adding=!1,p.editing=!1,o()},2e3)},function(a){p.actions.save.normal(),p.saving=!1,p.error=a,o()})),p.editing&&(p.error=void 0,p.saving=!0,p.actions.save.processing(),p.persistSave(function(a){angular.copy(a,p.itemInEditOriginal),p.actions.save.finishing(!0),p.saving=!1,c(function(){p.actions.save.normal(),p.adding=!1,p.editing=!1,o()},2e3)},function(a){p.actions.save.normal(),p.saving=!1,p.error=a,o()}))}function n(){p.persistTrash(function(a){var b=q.selectable.indexOf(a);if(-1!=b){q.list.splice(b,1)}q.selectable.restoreSelection(),q.sorting.onChange(),o()},function(a){p.error=a}),o()}function o(){return p.adding||p.editing?(p.actions.add.visible=!1,p.actions.edit.visible=!1,p.actions.save.visible=!0,p.actions.trash.visible=!1,p.actions.close.visible=!0):(p.actions.add.visible=!0,p.actions.edit.visible=!0,p.actions.save.visible=!1,p.actions.trash.visible=!0,p.actions.close.visible=!0),p.loading||p.saving?(p.actions.add.disable=!0,p.actions.edit.disable=!0,p.actions.save.disable=!0,p.actions.trash.disable=!0,void(p.actions.close.disable=!0)):p.adding||p.editing?(p.actions.add.disable=!0,p.actions.edit.disable=!0,p.actions.save.disable=!1,p.actions.trash.disable=!0,void(p.actions.close.disable=!1)):-1!==p.getSelectedIndex()?(p.actions.add.disable=!1,p.actions.edit.disable=!1,p.actions.save.disable=!0,p.actions.trash.disable=!1,void(p.actions.close.disable=!1)):(p.actions.add.disable=!1,p.actions.edit.disable=!0,p.actions.save.disable=!0,p.actions.trash.disable=!0,p.actions.close.disable=!0,void console.log("_this.actions.edit.disable:",p.actions.edit.disable))}var p=this,q=new b(d,e);void 0===f&&(f={view:!0,edit:!0,add:!0,remove:!0}),this.editing=!1,this.loading=!1,this.saving=!1,this.adding=!1,this.itemInEdit=null,this.itemInEditOriginal=null,this.add=g,this.save=m,this.edit=i,this.trash=n,this.close=h,this.persistAdd=j,this.persistSave=k,this.persistTrash=l,this.list=q.list,this.selectable=q.selectable,this.sorting=q.sorting,this.toggleIndex=function(a){p.loading||p.saving||p.editing||p.adding||(p.selectable.toggleIndex(a),o())},this.getSelectedIndex=function(){return p.selectable.getSelectedIndex()};for(var r="add,save,edit,trash,close".split(","),s={},t=0;t<r.length;t++){var u=r[t];s[u]=new a(u,this)}this.actions=s,o()};return d}]),angular.module("ng-puremodels").factory("flags",[function(){var a=function(a,b,c){function d(a,b){var c=g.names[a];c!==b&&(g.selected=void 0,b===!0&&(g.selected=a),g.names[a]=b,void 0!==g.fireChangeSelectionEvent&&g.fireChangeSelectionEvent(a,b))}function e(a,b){for(var c=0;c<g.list.length;c++){var d=g.list[c];d!==b&&(g.names[d]=a)}}function f(a,b){console.log("flags change event:",a,"=",b)}var g=this,h=1==b?!0:!1;g.list=void 0!==a?a.slice(0):[],g.names={},g.selected=void 0,e(h),g.unselectAll=function(){e(!1),void 0!==fireChangeSelectionEvent&&fireChangeSelectionEvent(void 0,value)},g.selectAll=function(){e(!0),fireChangeSelectionEvent(void 0,value)},g.select=function(a){d(a,!0)},g.selectOne=function(a){e(!1,a),d(a,!0)},g.unselect=function(a){d(a,!1)},g.toggle=function(a){d(a,!g.names[a])},g.fireChangeSelectionEvent=f,void 0!==c&&g.selectOne(c)};return a}]),angular.module("ng-puremodels").factory("groupable",["selectable",function(a){var b=function(b,c){function d(){this.getPropertyType=function(a,b,c){if(void 0===c)return"object";var d=typeof c;return"object"===d&&"[object Array]"===Object.prototype.toString.call(c)&&(d="array"),d}}function e(a){f.groups=_.chain(g).groupBy(a,i[a].iteratee).value()}var f=this,g=void 0===b?[]:b.slice(0),h=(new d,_.map(c,function(a){var b=typeof g[0][a];return{name:a,type:b}}));h.splice(0,0,{name:"__none__"});var i=_.indexBy(h,"name"),j=new a(h);j.selectIndex(0),j.fireChangeSelectionEvent=function(){var a=f.selectableProperties.getSelectedObject().name;return"none"===a?void(f.groups=void 0):void e(a)},this.groupBy=e,this.selectableProperties=j};return b}]),angular.module("ng-puremodels").factory("paging",function(){var a=function(a,b){function c(a){for(;a.length;)a.pop()}var d=this;this.totalItems=a,this.currentPage=0,this.currentOffset=0,this.limitTo=0,this.pageNumbers=[],this.visitedPages={},this.needPaging=!0,this.itemsPerPage=void 0!==b?b:4,this.maxPagesInView=5,this.hasNext=function(){return(d.currentPage+1)*d.itemsPerPage>d.totalItems?!1:!0},this.more=function(){d.next()},this.next=function(){d.setPage(d.currentPage+1)},this.hasPrev=function(){return(d.currentPage-1)*d.itemsPerPage<0?!1:!0},this.prev=function(){d.hasPrev()&&d.setPage(d.currentPage-1)},this.home=function(){d.setPage(0)},this.hasEnd=function(){return-1===d.totalItems?!1:!0},this.all=function(){d.itemsPerPage=d.totalItems,d.needPaging=!1,d.setPage(0)},this.end=function(){d.itemsPerPage=d.setPage(0)},this.setPage=function(a){d.currentPage=a,d.limitTo=(d.currentPage+1)*d.itemsPerPage,d.currentOffset=d.currentPage*d.itemsPerPage,c(d.pageNumbers);for(var b=0;b<d.maxPagesInView;b++)b*d.itemsPerPage<=d.totalItems&&d.pageNumbers.push(b)},this.pageChanged=function(){},this.setPage(0)};return a}),angular.module("ng-puremodels").factory("selectable",function(){var a=function(a){function b(a){for(;a.length;)a.pop()}function c(){b(C),b(D);for(var a=0;a<y.length;a++)B[a]===!0&&(C.push(y[a]),D.push(a))}function d(){for(var a=!1,b=0;b<y.length;b++)B[b]===!0&&(a=!0),B[b]=!1;a&&j(-1,!1)}function e(){for(var a=!1,b=0;b<y.length;b++)B[b]===!1&&(a=!0),B[b]=!0;a&&j(-1,!0)}function f(){for(var a=0;a<y.length;a++)B[a]=!B[a];j(-1,void 0)}function g(a){for(var b=0;b<y.length;b++){var c=y[b];if(x.equal(a,c))return b}return-1}function h(){b(B),b(D);for(var a=0;a<y.length;a++)B.push(!1);for(var a=0;a<C.length;a++)for(var d=C[a],e=0;e<y.length;e++){var f=y[e];x.equal(d,f)&&(B[e]=!0)}if(c(),z=-1,void 0!==A)for(var e=0;e<y.length;e++){var f=y[e];x.equal(A,f)&&(z=e)}}function i(a,b){if(!(0>a||a>=y.length)){var c=B[a];B[a]=b,c!==b&&j(a,b)}}function j(a,b){c();try{void 0!==x.fireChangeMultiSelectionEvent&&x.fireChangeMultiSelectionEvent(a,b)}catch(d){console.log(d)}}function k(a){i(a,!0)}function l(a){i(a,!1)}function m(a){i(a,!B[a])}function n(){return z}function o(){return A}function p(a){if(z!==a){var b=z,c=A;-1>a||a>=y.length||(z=a,A=-1===a?void 0:y[a],q(c,A,b,z))}}function q(a,b,c){try{void 0!==x.fireChangeSelectionEvent&&x.fireChangeSelectionEvent(a,A,c,z)}catch(d){console.log(d)}}function r(){return y}function s(a){p(a)}function t(){p(-1)}function u(a){p(z===a?-1:a)}function v(a,b){console.log("multi selection:",a,";",b)}function w(a,b,c,d){console.log("selection:",a,";",b,";",c,";",d)}for(var x=this,y=void 0!==a?a.slice(0):[],z=-1,A=void 0,B=[],C=[],D=[],E=0;E<y.length;E++)B.push(!1);this.getSelectedIndex=n,this.getSelectedObject=o,this.selectIndex=s,this.unselectIndex=t,this.toggleIndex=u,this.fireChangeSelectionEvent=w,this.fireChangeMultiSelectionEvent=v,this.unselectAll=d,this.selectAll=e,this.toggleAll=f,this.multiSelect=k,this.multiUnselect=l,this.multiToggleSelect=m,this.multiSelections=B,this.multiSelectedObjects=C,this.multiSelectedIndexes=D,this.getList=r,this.list=y,this.indexOf=g,this.idPropertyNames=void 0,this.restoreSelection=h,this.equal=function(a,b){if(void 0===x.idPropertyNames){x.idPropertyNames=[];for(var c in x.idPropertyNames)x.idPropertyNames.push(c)}if(0===x.idPropertyNames.length)return a===b;for(var d=0;d<x.idPropertyNames.length;d++){var c=x.idPropertyNames[d],e=a[c],f=b[c];if(e!==f)return!1}return!0}};return a}),angular.module("ng-puremodels").factory("sortable",["$parse","selectable","sorting",function(a,b,c){var d=function(d,e){var f=new b(d),g=new c(e),h={};g.onChange=function(){f.list.sort(function(b,c){for(var d=0;d<g.statusesOrderedFifo.length;d++){var e=g.statusesOrderedFifo[d];void 0===h[e]&&(h[e]=a("obj."+e));var f=g.statuses[e];if(void 0===f&&console.log("null for:",e),0!==f.sortDir){var i={obj:b},j=h[e](i),i={obj:c},k=h[e](i);if(j!==k){if(void 0===j)return-1*f.sortDir;if(void 0===k)return 1*f.sortDir;if(angular.isFunction(j.localeCompare))var l=j.localeCompare(k)*f.sortDir;else{if(j==k)return 0;var l=j>k?f.sortDir:-1*f.sortDir}return l}}}return 0}),f.restoreSelection()},this.list=f.list,this.selectable=f,this.sorting=g};return d}]),angular.module("ng-puremodels").factory("sorting",function(){var a=function(a){function b(){for(var b=0;b<a.length;b++){var c={name:a[b],defaultSortDir:0,sortDir:0};j[a[b]]=c}}function c(a){var b={name:a,defaultSortDir:0,sortDir:0};return b}function d(b){var c=e(b,k);-1===c?(k.splice(0,0,b),a.splice(0,0,b)):(k.splice(c,1),k.splice(0,0,b))}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d===a)return c}return-1}function f(a){return void 0===j[a]&&(j[a]=c(a)),j[a]}function g(){}function h(a,b){void 0===j[a]&&(j[a]=c(a)),j[a].sortDir=b,d(a),i.onChange()}var i=this,a=void 0!==a?a:[],j={},k=[];b(),this.sortUp=function(a){h(a,1)},this.sortDown=function(a){h(a,-1)},this.sortToggle=function(a){var b=f(a);return 0===f(a).sortDir?void i.sortDown(a):void h(a,-1*b.sortDir)},this.sortReset=function(a){h(a,f(a).defaultSortDir)},this.sortAllReset=function(){for(var b=0;b<a.length;b++){var c=f(a[b]);c.sortDir=c.defaultSortDir}i.onChange()},this.getStatusVerbose=function(a,b){void 0===b&&(b=["sort-asc","sort","sort-desc"]);var c=f(a);return b[c.sortDir+1]},this.onChange=g,this.statuses=j,this.statusesOrderedFifo=k,this.names=a};return a}),angular.module("ng-puremodels").factory("tree",["selectable",function(a){var b=function(b,c,d){function e(a){var b=a.path;if(0===b.length)return void 0;for(var c=N,d=0;d<b.length-1;d++)var c=c.children[b[d]];return c}function f(a){if(void 0!==a.children&&!a.leaf)for(var b=0;b<a.children.length;b++){var c=a.children[b],d=a.path.slice(0);d.push(b),c.path=d,c.id=c.path.join("-"),f(c)}}function g(a,b){return b.leaf?void j(a,b):(i(a),void h(a,b))}function h(a,b){b.children.push(a),f(b)}function i(a){var b=e(a);if(void 0!==b){var c=a.path[a.path.length-1];b.children.splice(c,1),f(b)}}function j(a,b){i(a);for(var c=e(b),d=c.children.length,g=0;g<c.children.length;g++){var h=c.children[g];if(h===b){d=g;break}}c.children.splice(d+1,0,a),f(c)}function k(a,b,d){var e={path:[],data:d,leaf:!0,loading:!0,expanded:!1};return e.leaf=c.isLeaf(d),void 0===b?e:(e.path=b.path.slice(0),e.path.push(a),e.id=e.path.join("-"),e)}function l(a,b){if(void 0!==a&&(void 0===M||M.id!==a.id||M.selected!=a.selected)){var c=M;void 0!==c&&(c.selected=!1),1==b?(M=a,M.selected=b):M=void 0,m(c,M)}}function m(a,b){try{void 0!==K.fireChangeSelectionEvent&&K.fireChangeSelectionEvent(a,b)}catch(c){console.log(c)}}function n(a){l(a,!0)}function o(a,b){l(a,!0),x(a,b)}function p(a){l(a,!1)}function q(){return M}function r(){return void 0!==q()?q().id:"-1"}function s(a){for(var b=N,c=0;c<a.length;c++)b=b.children[a[c]];return b}function t(){if(void 0===q())return void 0;var a=u(q().path);return a}function u(a){for(var b=[N],c=N,d=0;d<a.length;d++)c=c.children[a[d]],b.push(c);return b}function v(a){w(a,function(){I()})}function w(a,b){a.expanded=!0,x(a,b)}function x(b,d){void 0===d&&(d=function(){}),b.leaf||(void 0===b.children?(b.loading=!0,c.getChildren(b.data,function(c){b.loading=!1,b.children=[];for(var e=0;e<c.length;e++){var f=k(e,b,c[e]);b.children.push(f)}void 0===K.decorateNodeOnCreate?b.selectableChildren=new a(b.children):K.decorateNodeOnCreate(b),void 0!==d&&d(b)},function(a){b.loading=!1,b.error=a,b.children=void 0,void 0!==d&&d(b)})):void 0!==d&&d(b))}function y(a,b){a.leaf?b():w(a,function(a){for(var c=0,d=0;d<a.children.length;d++){var e=a.children[d];y(e,function(){c++,c===a.children.length&&b()})}})}function z(a){void 0===a&&(a=K.rootNode),A(a),I()}function A(a){if(!a.leaf&&(a.expanded=!1,void 0!==a.children))for(var b=0;b<a.children.length;b++){var c=a.children[b];A(c)}}function B(a){for(var b=a,c=void 0;void 0===c;){var b=e(b);if(void 0===b)break;var d=b.path[b.path.length-1],f=d+1,g=e(b);if(void 0!==g&&g.children.length!==f){c=g.children[f];break}}return c}function C(a,b){if(void 0===a)return void b(N);var c=e(a);if(a.leaf&&void 0===c)return void b(void 0);var d=a.path[a.path.length-1],f=d+1;if(a.leaf){if(c.children.length!==f)return void b(c.children[f]);b(B(a))}else w(a,function(a){return void 0!==a.children&&a.children.length>0?void b(a.children[0]):void b(B(a))})}function D(a){a.expanded=!1,I()}function E(a){a.expanded===!1?v(a):D(a)}function F(a){E(a),n(a)}function G(a){n(a),v(e(a))}function H(a,b){if(b.push(a),a.expanded)for(var c=0;c<a.children.length;c++){var d=a.children[c];H(d,b)}}function I(){var a=[];return H(N,a),N.expandedNodesAndLeafs=a,a}function J(a,b){console.log("node selection:",a,";",b)}var K=this,L=b,M=void 0,c=c;void 0===c&&(c={isLeaf:function(a){return void 0===a.children},getUid:function(a){return void 0!==a.id?a.id:void 0!==a.uid?a.uid:void 0!==a.name?a.name:void 0},getChildren:function(a,b){b(a.children)}});var N=k(-1,void 0,L);I(),this.rootNode=N,this.fireChangeSelectionEvent=J,this.expandNode=v,this.expandNodeAsync=w,this.collapseNode=D,this.toggleExpandNode=E,this.selectNode=n,this.unselectNode=p,this.getLastNodeByPath=s,this.getNodesByPath=u,this.getNodesBySelectedPath=t,this.toggleAndSelectExpandNode=F,this.selectNodeAndLoadChildren=o,this.selectNodeAndExpandParent=G,this.loadNodeChildrenAsync=x,this.decorateNodeOnCreate=d,this.getSelectedNode=q,this.getSelectedNodeId=r,this.nextNode=C,this.expandAllAsync=y,this.collapseAll=z,this.addNode=h,this.dropNodeOnAnotherNode=g,this.deleteNode=i,this.resetNode=f,this.getParent=e};return b}]),angular.module("ng-puremodels").directive("iconGroupButton",function(){return{restrict:"AEC",scope:{actions:"=",btnGroupClasses:"="},link:function(){},templateUrl:"dev/directives/group_button.html"}}),angular.module("ng-puremodels").directive("iconButton",function(){return{restrict:"AEC",scope:{action:"=",btnClasses:"=",iconClasses:"="},link:function(){},templateUrl:"dev/directives/button.html"}}),angular.module("ng-puremodels").directive("sortTh",function(){return{scope:{sorting:"=",pname:"="},templateUrl:"dev/directives/sort-th.html"}}),angular.module("ng-puremodels").filter("pager",function(){return function(a,b,c){for(var d=[],e=0;e<a.length;e++)e>=b*c&&(b+1)*c>e&&d.push(a[e]);return d}}).filter("limitTo",function(){return function(a,b){for(var c=[],d=0;d<a.length;d++)b>d&&c.push(a[d]);return c}}).filter("range",function(){return function(a,b,c){for(var d=[],e=0;e<a.length;e++)e>=b&&c>=e&&d.push(a[e]);return d}}).filter("offset",function(){return function(a,b,c){for(var d=[],e=0;e<a.length;e++)e>=b&&b+c>=e&&d.push(a[e]);return d}}).filter("last",function(){return function(a,b){for(var c=[],d=0;d<a.length;d++)d>a.length-b&&c.push(a[d]);return c}}),angular.module("ng-puremodels",[]),angular.module("ng-puremodels").factory("action",[function(){var a={add:"fa fa-plus"},b={iconClassesPrefix:"fa fa-",btnClasses:"btn btn-default",btnClassesProcessing:"btn btn-warning",btnClassesFinishSuccess:"btn btn-success",btnClassesFinishFailure:"btn btn-danger",text_processing_suffix:"_processing",text_finish_success_suffix:"_success",text_finish_failure_suffix:"_failure"},c=function(c,d,e){var f=this;void 0===e&&(e=b,e.cssAliases=a),void 0===e.cssAliases&&(e.cssAliases=a),this.name=c,this.text=c,this.visible=!0,this.processing=!1,this.finishing=!1,this.iconClasses=void 0===e.cssAliases[c]?"fa fa-"+c:e.cssAliases[c],this.disabled=!1,this.btnClasses="btn btn-default",this.invoke=angular.isFunction(d[c])?d[c]:function(){this.console.log("empty handler for:"+c)},this.processing=function(){f.disabled=!0,f.textOrigin=f.text,f.btnClassesOrigin=f.btnClasses,f.text=f.text+"_processing",f.btnClasses="btn btn-warning"},this.finishing=function(a){a?(f.text=f.textOrigin+"_success",f.btnClasses="btn btn-success"):(f.text=f.textOrigin+"_failure",f.btnClasses="btn btn-danger")},this.normal=function(){f.text=f.textOrigin,f.btnClasses=f.btnClassesOrigin}};return c}]),angular.module("ng-puremodels").factory("async",["$timeout",function(a){var b=function(){function b(b,c){e++,f[e]=b;var d=e;return a(function(){delete f[d]},1e3*c),d}function c(a,b){delete f[a],f[a]={},e++;var c=e;return f[a][c]=b,c}function d(b,c,d){delete f[b],f[b]={},e++;var g=e,h=b;return f[b][g]=c,a(function(){delete f[h][g],console.log("deleted")},1e3*d),g}var e=0,f={};this.objectsMap=f,this.addAndDeleteAfterTimeout=b,this.replaceAndDeleteAfterTimeout=d,this.replace=c};return b}]),angular.module("ng-puremodels").factory("crud",["action","sortable","$timeout",function(a,b,c){var d=function(d,e,f){function g(){p.adding=!0,o()}function h(){p.adding=!1,p.editing=!1,p.adding||p.editing||-1!==p.getSelectedIndex()&&p.toggleIndex(p.getSelectedIndex()),o()}function i(){p.adding=!1,p.editing=!0,p.itemInEditOriginal=q.selectable.getSelectedObject(),p.itemInEdit=angular.copy(p.itemInEditOriginal),o()}function j(a){c(function(){a(p.itemInEdit)},1e3)}function k(a){c(function(){a(p.itemInEdit)},1e3)}function l(a){var b=q.selectable.getSelectedObject();c(function(){a(b)},1e3)}function m(){p.adding&&(p.error=void 0,p.saving=!0,p.actions.save.processing(),p.persistAdd(function(a){q.list.push(a),q.selectable.restoreSelection(),q.sorting.onChange(),p.actions.save.finishing(!0),p.saving=!1,c(function(){p.actions.save.normal(),p.adding=!1,p.editing=!1,o()},2e3)},function(a){p.actions.save.normal(),p.saving=!1,p.error=a,o()})),p.editing&&(p.error=void 0,p.saving=!0,p.actions.save.processing(),p.persistSave(function(a){angular.copy(a,p.itemInEditOriginal),p.actions.save.finishing(!0),p.saving=!1,c(function(){p.actions.save.normal(),p.adding=!1,p.editing=!1,o()},2e3)},function(a){p.actions.save.normal(),p.saving=!1,p.error=a,o()}))}function n(){p.persistTrash(function(a){var b=q.selectable.indexOf(a);-1!=b&&q.list.splice(b,1),q.selectable.restoreSelection(),q.sorting.onChange(),o()},function(a){p.error=a}),o()}function o(){return p.adding||p.editing?(p.actions.add.visible=!1,p.actions.edit.visible=!1,p.actions.save.visible=!0,p.actions.trash.visible=!1,p.actions.close.visible=!0):(p.actions.add.visible=!0,p.actions.edit.visible=!0,p.actions.save.visible=!1,p.actions.trash.visible=!0,p.actions.close.visible=!0),p.loading||p.saving?(p.actions.add.disable=!0,p.actions.edit.disable=!0,p.actions.save.disable=!0,p.actions.trash.disable=!0,void(p.actions.close.disable=!0)):p.adding||p.editing?(p.actions.add.disable=!0,p.actions.edit.disable=!0,p.actions.save.disable=!1,p.actions.trash.disable=!0,void(p.actions.close.disable=!1)):-1!==p.getSelectedIndex()?(p.actions.add.disable=!1,p.actions.edit.disable=!1,p.actions.save.disable=!0,p.actions.trash.disable=!1,void(p.actions.close.disable=!1)):(p.actions.add.disable=!1,p.actions.edit.disable=!0,p.actions.save.disable=!0,p.actions.trash.disable=!0,p.actions.close.disable=!0,void console.log("_this.actions.edit.disable:",p.actions.edit.disable))}var p=this,q=new b(d,e);void 0===f&&(f={view:!0,edit:!0,add:!0,remove:!0}),this.editing=!1,this.loading=!1,this.saving=!1,this.adding=!1,this.itemInEdit=null,this.itemInEditOriginal=null,this.add=g,this.save=m,this.edit=i,this.trash=n,this.close=h,this.persistAdd=j,this.persistSave=k,this.persistTrash=l,this.list=q.list,this.selectable=q.selectable,this.sorting=q.sorting,this.toggleIndex=function(a){p.loading||p.saving||p.editing||p.adding||(p.selectable.toggleIndex(a),o())},this.getSelectedIndex=function(){return p.selectable.getSelectedIndex()};for(var r="add,save,edit,trash,close".split(","),s={},t=0;t<r.length;t++){var u=r[t];s[u]=new a(u,this)}this.actions=s,o()};return d}]),angular.module("ng-puremodels").factory("flags",[function(){var a=function(a,b,c){function d(a,b){var c=g.names[a];c!==b&&(g.selected=void 0,b===!0&&(g.selected=a),g.names[a]=b,void 0!==g.fireChangeSelectionEvent&&g.fireChangeSelectionEvent(a,b))}function e(a,b){for(var c=0;c<g.list.length;c++){var d=g.list[c];d!==b&&(g.names[d]=a)}}function f(a,b){console.log("flags change event:",a,"=",b)}var g=this,h=1==b?!0:!1;g.list=void 0!==a?a.slice(0):[],g.names={},g.selected=void 0,e(h),g.unselectAll=function(){e(!1),void 0!==fireChangeSelectionEvent&&fireChangeSelectionEvent(void 0,value)},g.selectAll=function(){e(!0),fireChangeSelectionEvent(void 0,value)},g.select=function(a){d(a,!0)},g.selectOne=function(a){e(!1,a),d(a,!0)},g.unselect=function(a){d(a,!1)},g.toggle=function(a){d(a,!g.names[a])},g.fireChangeSelectionEvent=f,void 0!==c&&g.selectOne(c)};return a}]),angular.module("ng-puremodels").factory("groupable",["selectable",function(a){var b=function(b,c){function d(){this.getPropertyType=function(a,b,c){if(void 0===c)return"object";var d=typeof c;return"object"===d&&"[object Array]"===Object.prototype.toString.call(c)&&(d="array"),d}}function e(a){f.groups=_.chain(g).groupBy(a,i[a].iteratee).value()}var f=this,g=void 0===b?[]:b.slice(0),h=(new d,_.map(c,function(a){var b=typeof g[0][a];return{name:a,type:b}}));h.splice(0,0,{name:"__none__"});var i=_.indexBy(h,"name"),j=new a(h);j.selectIndex(0),j.fireChangeSelectionEvent=function(){var a=f.selectableProperties.getSelectedObject().name;return"none"===a?void(f.groups=void 0):void e(a)},this.groupBy=e,this.selectableProperties=j};return b}]),angular.module("ng-puremodels").factory("paging",function(){var a=function(a,b){function c(a){for(;a.length;)a.pop()}var d=this;this.totalItems=a,this.currentPage=0,this.currentOffset=0,this.limitTo=0,this.pageNumbers=[],this.visitedPages={},this.needPaging=!0,this.itemsPerPage=void 0!==b?b:4,this.maxPagesInView=5,this.hasNext=function(){return(d.currentPage+1)*d.itemsPerPage>d.totalItems?!1:!0},this.more=function(){d.next()},this.next=function(){d.setPage(d.currentPage+1)},this.hasPrev=function(){return(d.currentPage-1)*d.itemsPerPage<0?!1:!0},this.prev=function(){d.hasPrev()&&d.setPage(d.currentPage-1)},this.home=function(){d.setPage(0)},this.hasEnd=function(){return-1===d.totalItems?!1:!0},this.all=function(){d.itemsPerPage=d.totalItems,d.needPaging=!1,d.setPage(0)},this.end=function(){d.itemsPerPage=d.setPage(0)},this.setPage=function(a){d.currentPage=a,d.limitTo=(d.currentPage+1)*d.itemsPerPage,d.currentOffset=d.currentPage*d.itemsPerPage,c(d.pageNumbers);for(var b=0;b<d.maxPagesInView;b++)b*d.itemsPerPage<=d.totalItems&&d.pageNumbers.push(b)},this.pageChanged=function(){},this.setPage(0)};return a}),angular.module("ng-puremodels").factory("selectable",function(){var a=function(a){function b(a){for(;a.length;)a.pop()}function c(){b(C),b(D);for(var a=0;a<y.length;a++)B[a]===!0&&(C.push(y[a]),D.push(a))}function d(){for(var a=!1,b=0;b<y.length;b++)B[b]===!0&&(a=!0),B[b]=!1;a&&j(-1,!1)}function e(){for(var a=!1,b=0;b<y.length;b++)B[b]===!1&&(a=!0),B[b]=!0;a&&j(-1,!0)}function f(){for(var a=0;a<y.length;a++)B[a]=!B[a];j(-1,void 0)}function g(a){for(var b=0;b<y.length;b++){var c=y[b];if(x.equal(a,c))return b}return-1}function h(){b(B),b(D);for(var a=0;a<y.length;a++)B.push(!1);for(var a=0;a<C.length;a++)for(var d=C[a],e=0;e<y.length;e++){var f=y[e];x.equal(d,f)&&(B[e]=!0)}if(c(),z=-1,void 0!==A)for(var e=0;e<y.length;e++){var f=y[e];x.equal(A,f)&&(z=e)}}function i(a,b){if(!(0>a||a>=y.length)){var c=B[a];B[a]=b,c!==b&&j(a,b)}}function j(a,b){c();try{void 0!==x.fireChangeMultiSelectionEvent&&x.fireChangeMultiSelectionEvent(a,b)}catch(d){console.log(d)}}function k(a){i(a,!0)}function l(a){i(a,!1)}function m(a){i(a,!B[a])}function n(){return z}function o(){return A}function p(a){if(z!==a){var b=z,c=A;-1>a||a>=y.length||(z=a,A=-1===a?void 0:y[a],q(c,A,b,z))}}function q(a,b,c){try{void 0!==x.fireChangeSelectionEvent&&x.fireChangeSelectionEvent(a,A,c,z)}catch(d){console.log(d)}}function r(){return y}function s(a){p(a)}function t(){p(-1)}function u(a){p(z===a?-1:a)}function v(a,b){console.log("multi selection:",a,";",b)}function w(a,b,c,d){console.log("selection:",a,";",b,";",c,";",d)}for(var x=this,y=void 0!==a?a.slice(0):[],z=-1,A=void 0,B=[],C=[],D=[],E=0;E<y.length;E++)B.push(!1);this.getSelectedIndex=n,this.getSelectedObject=o,this.selectIndex=s,this.unselectIndex=t,this.toggleIndex=u,this.fireChangeSelectionEvent=w,this.fireChangeMultiSelectionEvent=v,this.unselectAll=d,this.selectAll=e,this.toggleAll=f,this.multiSelect=k,this.multiUnselect=l,this.multiToggleSelect=m,this.multiSelections=B,this.multiSelectedObjects=C,this.multiSelectedIndexes=D,this.getList=r,this.list=y,this.indexOf=g,this.idPropertyNames=void 0,this.restoreSelection=h,this.equal=function(a,b){if(void 0===x.idPropertyNames){x.idPropertyNames=[];for(var c in x.idPropertyNames)x.idPropertyNames.push(c)}if(0===x.idPropertyNames.length)return a===b;for(var d=0;d<x.idPropertyNames.length;d++){var c=x.idPropertyNames[d],e=a[c],f=b[c];if(e!==f)return!1}return!0}};return a}),angular.module("ng-puremodels").factory("sortable",["$parse","selectable","sorting",function(a,b,c){var d=function(d,e){var f=new b(d),g=new c(e),h={};g.onChange=function(){f.list.sort(function(b,c){for(var d=0;d<g.statusesOrderedFifo.length;d++){var e=g.statusesOrderedFifo[d];void 0===h[e]&&(h[e]=a("obj."+e));var f=g.statuses[e];if(void 0===f&&console.log("null for:",e),0!==f.sortDir){var i={obj:b},j=h[e](i),i={obj:c},k=h[e](i);if(j!==k){if(void 0===j)return-1*f.sortDir;if(void 0===k)return 1*f.sortDir;if(angular.isFunction(j.localeCompare))var l=j.localeCompare(k)*f.sortDir;else{if(j==k)return 0;var l=j>k?f.sortDir:-1*f.sortDir}return l}}}return 0}),f.restoreSelection()},this.list=f.list,this.selectable=f,this.sorting=g};return d}]),angular.module("ng-puremodels").factory("sorting",function(){var a=function(a){function b(){for(var b=0;b<a.length;b++){var c={name:a[b],defaultSortDir:0,sortDir:0};j[a[b]]=c}}function c(a){var b={name:a,defaultSortDir:0,sortDir:0};return b}function d(b){var c=e(b,k);-1===c?(k.splice(0,0,b),a.splice(0,0,b)):(k.splice(c,1),k.splice(0,0,b))}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d===a)return c}return-1}function f(a){return void 0===j[a]&&(j[a]=c(a)),j[a]}function g(){}function h(a,b){void 0===j[a]&&(j[a]=c(a)),j[a].sortDir=b,d(a),i.onChange()}var i=this,a=void 0!==a?a:[],j={},k=[];b(),this.sortUp=function(a){h(a,1)},this.sortDown=function(a){h(a,-1)},this.sortToggle=function(a){var b=f(a);return 0===f(a).sortDir?void i.sortDown(a):void h(a,-1*b.sortDir)},this.sortReset=function(a){h(a,f(a).defaultSortDir)},this.sortAllReset=function(){for(var b=0;b<a.length;b++){var c=f(a[b]);c.sortDir=c.defaultSortDir}i.onChange()},this.getStatusVerbose=function(a,b){void 0===b&&(b=["sort-asc","sort","sort-desc"]);var c=f(a);return b[c.sortDir+1]},this.onChange=g,this.statuses=j,this.statusesOrderedFifo=k,this.names=a};return a}),angular.module("ng-puremodels").factory("tree",["selectable",function(a){var b=function(b,c,d){function e(a){var b=a.path;if(0===b.length)return void 0;for(var c=N,d=0;d<b.length-1;d++)var c=c.children[b[d]];return c}function f(a){if(void 0!==a.children&&!a.leaf)for(var b=0;b<a.children.length;b++){var c=a.children[b],d=a.path.slice(0);d.push(b),c.path=d,c.id=c.path.join("-"),f(c)}}function g(a,b){return b.leaf?void j(a,b):(i(a),void h(a,b))}function h(a,b){b.children.push(a),f(b)}function i(a){var b=e(a);if(void 0!==b){var c=a.path[a.path.length-1];b.children.splice(c,1),f(b)}}function j(a,b){i(a);for(var c=e(b),d=c.children.length,g=0;g<c.children.length;g++){var h=c.children[g];if(h===b){d=g;break}}c.children.splice(d+1,0,a),f(c)}function k(a,b,d){var e={path:[],data:d,leaf:!0,loading:!0,expanded:!1};return e.leaf=c.isLeaf(d),void 0===b?e:(e.path=b.path.slice(0),e.path.push(a),e.id=e.path.join("-"),e)}function l(a,b){if(void 0!==a&&(void 0===M||M.id!==a.id||M.selected!=a.selected)){var c=M;void 0!==c&&(c.selected=!1),1==b?(M=a,M.selected=b):M=void 0,m(c,M)}}function m(a,b){try{void 0!==K.fireChangeSelectionEvent&&K.fireChangeSelectionEvent(a,b)}catch(c){console.log(c)}}function n(a){l(a,!0)}function o(a,b){l(a,!0),x(a,b)}function p(a){l(a,!1)}function q(){return M}function r(){return void 0!==q()?q().id:"-1"}function s(a){for(var b=N,c=0;c<a.length;c++)b=b.children[a[c]];return b}function t(){if(void 0===q())return void 0;var a=u(q().path);return a}function u(a){for(var b=[N],c=N,d=0;d<a.length;d++)c=c.children[a[d]],b.push(c);return b}function v(a){w(a,function(){I()})}function w(a,b){a.expanded=!0,x(a,b)}function x(b,d){void 0===d&&(d=function(){}),b.leaf||(void 0===b.children?(b.loading=!0,c.getChildren(b.data,function(c){b.loading=!1,b.children=[];for(var e=0;e<c.length;e++){var f=k(e,b,c[e]);b.children.push(f)}void 0===K.decorateNodeOnCreate?b.selectableChildren=new a(b.children):K.decorateNodeOnCreate(b),void 0!==d&&d(b)},function(a){b.loading=!1,b.error=a,b.children=void 0,void 0!==d&&d(b)})):void 0!==d&&d(b))}function y(a,b){a.leaf?b():w(a,function(a){for(var c=0,d=0;d<a.children.length;d++){var e=a.children[d];y(e,function(){c++,c===a.children.length&&b()})}})}function z(a){void 0===a&&(a=K.rootNode),A(a),I()}function A(a){if(!a.leaf&&(a.expanded=!1,void 0!==a.children))for(var b=0;b<a.children.length;b++){var c=a.children[b];A(c)}}function B(a){for(var b=a,c=void 0;void 0===c;){var b=e(b);if(void 0===b)break;var d=b.path[b.path.length-1],f=d+1,g=e(b);if(void 0!==g&&g.children.length!==f){c=g.children[f];break}}return c}function C(a,b){if(void 0===a)return void b(N);var c=e(a);if(a.leaf&&void 0===c)return void b(void 0);var d=a.path[a.path.length-1],f=d+1;if(a.leaf){if(c.children.length!==f)return void b(c.children[f]);b(B(a))}else w(a,function(a){return void 0!==a.children&&a.children.length>0?void b(a.children[0]):void b(B(a))})}function D(a){a.expanded=!1,I()}function E(a){a.expanded===!1?v(a):D(a)}function F(a){E(a),n(a)}function G(a){n(a),v(e(a))}function H(a,b){if(b.push(a),a.expanded)for(var c=0;c<a.children.length;c++){var d=a.children[c];
H(d,b)}}function I(){var a=[];return H(N,a),N.expandedNodesAndLeafs=a,a}function J(a,b){console.log("node selection:",a,";",b)}var K=this,L=b,M=void 0,c=c;void 0===c&&(c={isLeaf:function(a){return void 0===a.children},getUid:function(a){return void 0!==a.id?a.id:void 0!==a.uid?a.uid:void 0!==a.name?a.name:void 0},getChildren:function(a,b){b(a.children)}});var N=k(-1,void 0,L);I(),this.rootNode=N,this.fireChangeSelectionEvent=J,this.expandNode=v,this.expandNodeAsync=w,this.collapseNode=D,this.toggleExpandNode=E,this.selectNode=n,this.unselectNode=p,this.getLastNodeByPath=s,this.getNodesByPath=u,this.getNodesBySelectedPath=t,this.toggleAndSelectExpandNode=F,this.selectNodeAndLoadChildren=o,this.selectNodeAndExpandParent=G,this.loadNodeChildrenAsync=x,this.decorateNodeOnCreate=d,this.getSelectedNode=q,this.getSelectedNodeId=r,this.nextNode=C,this.expandAllAsync=y,this.collapseAll=z,this.addNode=h,this.dropNodeOnAnotherNode=g,this.deleteNode=i,this.resetNode=f,this.getParent=e};return b}]),angular.module("ng-puremodels").directive("iconGroupButton",function(){return{restrict:"AEC",scope:{actions:"=",btnGroupClasses:"="},link:function(){},templateUrl:"dev/directives/group_button.html"}}),angular.module("ng-puremodels").directive("iconButton",function(){return{restrict:"AEC",scope:{action:"=",btnClasses:"=",iconClasses:"="},link:function(){},templateUrl:"dev/directives/button.html"}}),angular.module("ng-puremodels").directive("sortTh",function(){return{scope:{sorting:"=",pname:"="},templateUrl:"dev/directives/sort-th.html"}}),angular.module("ng-puremodels").filter("pager",function(){return function(a,b,c){for(var d=[],e=0;e<a.length;e++)e>=b*c&&(b+1)*c>e&&d.push(a[e]);return d}}).filter("limitTo",function(){return function(a,b){for(var c=[],d=0;d<a.length;d++)b>d&&c.push(a[d]);return c}}).filter("range",function(){return function(a,b,c){for(var d=[],e=0;e<a.length;e++)e>=b&&c>=e&&d.push(a[e]);return d}}).filter("offset",function(){return function(a,b,c){for(var d=[],e=0;e<a.length;e++)e>=b&&b+c>=e&&d.push(a[e]);return d}}).filter("last",function(){return function(a,b){for(var c=[],d=0;d<a.length;d++)d>a.length-b&&c.push(a[d]);return c}}),angular.module("ng-puremodels",[]),angular.module("ng-puremodels").factory("action",[function(){var a={add:"fa fa-plus"},b={iconClassesPrefix:"fa fa-",btnClasses:"btn btn-default",btnClassesProcessing:"btn btn-warning",btnClassesFinishSuccess:"btn btn-success",btnClassesFinishFailure:"btn btn-danger",text_processing_suffix:"_processing",text_finish_success_suffix:"_success",text_finish_failure_suffix:"_failure"},c=function(c,d,e){var f=this;void 0===e&&(e=b,e.cssAliases=a),void 0===e.cssAliases&&(e.cssAliases=a),this.name=c,this.text=c,this.visible=!0,this.processing=!1,this.finishing=!1,this.iconClasses=void 0===e.cssAliases[c]?"fa fa-"+c:e.cssAliases[c],this.disabled=!1,this.btnClasses="btn btn-default",this.invoke=angular.isFunction(d[c])?d[c]:function(){this.console.log("empty handler for:"+c)},this.processing=function(){f.disabled=!0,f.textOrigin=f.text,f.btnClassesOrigin=f.btnClasses,f.text=f.text+"_processing",f.btnClasses="btn btn-warning"},this.finishing=function(a){a?(f.text=f.textOrigin+"_success",f.btnClasses="btn btn-success"):(f.text=f.textOrigin+"_failure",f.btnClasses="btn btn-danger")},this.normal=function(){f.text=f.textOrigin,f.btnClasses=f.btnClassesOrigin}};return c}]),angular.module("ng-puremodels").factory("async",["$timeout",function(a){var b=function(){function b(b,c){e++,f[e]=b;var d=e;return a(function(){delete f[d]},1e3*c),d}function c(a,b){delete f[a],f[a]={},e++;var c=e;return f[a][c]=b,c}function d(b,c,d){delete f[b],f[b]={},e++;var g=e,h=b;return f[b][g]=c,a(function(){delete f[h][g],console.log("deleted")},1e3*d),g}var e=0,f={};this.objectsMap=f,this.addAndDeleteAfterTimeout=b,this.replaceAndDeleteAfterTimeout=d,this.replace=c};return b}]),angular.module("ng-puremodels").factory("crud",["action","sortable","$timeout",function(a,b,c){var d=function(d,e,f){function g(){p.adding=!0,o()}function h(){p.adding=!1,p.editing=!1,p.adding||p.editing||-1!==p.getSelectedIndex()&&p.toggleIndex(p.getSelectedIndex()),o()}function i(){p.adding=!1,p.editing=!0,p.itemInEditOriginal=q.selectable.getSelectedObject(),p.itemInEdit=angular.copy(p.itemInEditOriginal),o()}function j(a){c(function(){a(p.itemInEdit)},1e3)}function k(a){c(function(){a(p.itemInEdit)},1e3)}function l(a){var b=q.selectable.getSelectedObject();c(function(){a(b)},1e3)}function m(){p.adding&&(p.error=void 0,p.saving=!0,p.actions.save.processing(),p.persistAdd(function(a){q.list.push(a),q.selectable.restoreSelection(),q.sorting.onChange(),p.actions.save.finishing(!0),p.saving=!1,c(function(){p.actions.save.normal(),p.adding=!1,p.editing=!1,o()},2e3)},function(a){p.actions.save.normal(),p.saving=!1,p.error=a,o()})),p.editing&&(p.error=void 0,p.saving=!0,p.actions.save.processing(),p.persistSave(function(a){angular.copy(a,p.itemInEditOriginal),p.actions.save.finishing(!0),p.saving=!1,c(function(){p.actions.save.normal(),p.adding=!1,p.editing=!1,o()},2e3)},function(a){p.actions.save.normal(),p.saving=!1,p.error=a,o()}))}function n(){p.persistTrash(function(a){var b=q.selectable.indexOf(a);-1!=b&&q.list.splice(b,1),q.selectable.restoreSelection(),q.sorting.onChange(),o()},function(a){p.error=a}),o()}function o(){return p.adding||p.editing?(p.actions.add.visible=!1,p.actions.edit.visible=!1,p.actions.save.visible=!0,p.actions.trash.visible=!1,p.actions.close.visible=!0):(p.actions.add.visible=!0,p.actions.edit.visible=!0,p.actions.save.visible=!1,p.actions.trash.visible=!0,p.actions.close.visible=!0),p.loading||p.saving?(p.actions.add.disable=!0,p.actions.edit.disable=!0,p.actions.save.disable=!0,p.actions.trash.disable=!0,void(p.actions.close.disable=!0)):p.adding||p.editing?(p.actions.add.disable=!0,p.actions.edit.disable=!0,p.actions.save.disable=!1,p.actions.trash.disable=!0,void(p.actions.close.disable=!1)):-1!==p.getSelectedIndex()?(p.actions.add.disable=!1,p.actions.edit.disable=!1,p.actions.save.disable=!0,p.actions.trash.disable=!1,void(p.actions.close.disable=!1)):(p.actions.add.disable=!1,p.actions.edit.disable=!0,p.actions.save.disable=!0,p.actions.trash.disable=!0,p.actions.close.disable=!0,void console.log("_this.actions.edit.disable:",p.actions.edit.disable))}var p=this,q=new b(d,e);void 0===f&&(f={view:!0,edit:!0,add:!0,remove:!0}),this.editing=!1,this.loading=!1,this.saving=!1,this.adding=!1,this.itemInEdit=null,this.itemInEditOriginal=null,this.add=g,this.save=m,this.edit=i,this.trash=n,this.close=h,this.persistAdd=j,this.persistSave=k,this.persistTrash=l,this.list=q.list,this.selectable=q.selectable,this.sorting=q.sorting,this.toggleIndex=function(a){p.loading||p.saving||p.editing||p.adding||(p.selectable.toggleIndex(a),o())},this.getSelectedIndex=function(){return p.selectable.getSelectedIndex()};for(var r="add,save,edit,trash,close".split(","),s={},t=0;t<r.length;t++){var u=r[t];s[u]=new a(u,this)}this.actions=s,o()};return d}]),angular.module("ng-puremodels").factory("groupable",["selectable",function(a){var b=function(b,c){function d(){this.getPropertyType=function(a,b,c){if(void 0===c)return"object";var d=typeof c;return"object"===d&&"[object Array]"===Object.prototype.toString.call(c)&&(d="array"),d}}function e(a){f.groups=_.chain(g).groupBy(a,i[a].iteratee).value()}var f=this,g=void 0===b?[]:b.slice(0),h=(new d,_.map(c,function(a){var b=typeof g[0][a];return{name:a,type:b}}));h.splice(0,0,{name:"__none__"});var i=_.indexBy(h,"name"),j=new a(h);j.selectIndex(0),j.fireChangeSelectionEvent=function(){var a=f.selectableProperties.getSelectedObject().name;return"none"===a?void(f.groups=void 0):void e(a)},this.groupBy=e,this.selectableProperties=j};return b}]),angular.module("ng-puremodels").factory("paging",function(){var a=function(a,b){function c(a){for(;a.length;)a.pop()}var d=this;this.totalItems=a,this.currentPage=0,this.currentOffset=0,this.limitTo=0,this.pageNumbers=[],this.visitedPages={},this.needPaging=!0,this.itemsPerPage=void 0!==b?b:4,this.maxPagesInView=5,this.hasNext=function(){return(d.currentPage+1)*d.itemsPerPage>d.totalItems?!1:!0},this.more=function(){d.next()},this.next=function(){d.setPage(d.currentPage+1)},this.hasPrev=function(){return(d.currentPage-1)*d.itemsPerPage<0?!1:!0},this.prev=function(){d.hasPrev()&&d.setPage(d.currentPage-1)},this.home=function(){d.setPage(0)},this.hasEnd=function(){return-1===d.totalItems?!1:!0},this.all=function(){d.itemsPerPage=d.totalItems,d.needPaging=!1,d.setPage(0)},this.end=function(){d.itemsPerPage=d.setPage(0)},this.setPage=function(a){d.currentPage=a,d.limitTo=(d.currentPage+1)*d.itemsPerPage,d.currentOffset=d.currentPage*d.itemsPerPage,c(d.pageNumbers);for(var b=0;b<d.maxPagesInView;b++)b*d.itemsPerPage<=d.totalItems&&d.pageNumbers.push(b)},this.pageChanged=function(){},this.setPage(0)};return a}),angular.module("ng-puremodels").factory("selectable",function(){var a=function(a){function b(a){for(;a.length;)a.pop()}function c(){b(C),b(D);for(var a=0;a<y.length;a++)B[a]===!0&&(C.push(y[a]),D.push(a))}function d(){for(var a=!1,b=0;b<y.length;b++)B[b]===!0&&(a=!0),B[b]=!1;a&&j(-1,!1)}function e(){for(var a=!1,b=0;b<y.length;b++)B[b]===!1&&(a=!0),B[b]=!0;a&&j(-1,!0)}function f(){for(var a=0;a<y.length;a++)B[a]=!B[a];j(-1,void 0)}function g(a){for(var b=0;b<y.length;b++){var c=y[b];if(x.equal(a,c))return b}return-1}function h(){b(B),b(D);for(var a=0;a<y.length;a++)B.push(!1);for(var a=0;a<C.length;a++)for(var d=C[a],e=0;e<y.length;e++){var f=y[e];x.equal(d,f)&&(B[e]=!0)}if(c(),z=-1,void 0!==A)for(var e=0;e<y.length;e++){var f=y[e];x.equal(A,f)&&(z=e)}}function i(a,b){if(!(0>a||a>=y.length)){var c=B[a];B[a]=b,c!==b&&j(a,b)}}function j(a,b){c();try{void 0!==x.fireChangeMultiSelectionEvent&&x.fireChangeMultiSelectionEvent(a,b)}catch(d){console.log(d)}}function k(a){i(a,!0)}function l(a){i(a,!1)}function m(a){i(a,!B[a])}function n(){return z}function o(){return A}function p(a){if(z!==a){var b=z,c=A;-1>a||a>=y.length||(z=a,A=-1===a?void 0:y[a],q(c,A,b,z))}}function q(a,b,c){try{void 0!==x.fireChangeSelectionEvent&&x.fireChangeSelectionEvent(a,A,c,z)}catch(d){console.log(d)}}function r(){return y}function s(a){p(a)}function t(){p(-1)}function u(a){p(z===a?-1:a)}function v(a,b){console.log("multi selection:",a,";",b)}function w(a,b,c,d){console.log("selection:",a,";",b,";",c,";",d)}for(var x=this,y=void 0!==a?a.slice(0):[],z=-1,A=void 0,B=[],C=[],D=[],E=0;E<y.length;E++)B.push(!1);this.getSelectedIndex=n,this.getSelectedObject=o,this.selectIndex=s,this.unselectIndex=t,this.toggleIndex=u,this.fireChangeSelectionEvent=w,this.fireChangeMultiSelectionEvent=v,this.unselectAll=d,this.selectAll=e,this.toggleAll=f,this.multiSelect=k,this.multiUnselect=l,this.multiToggleSelect=m,this.multiSelections=B,this.multiSelectedObjects=C,this.multiSelectedIndexes=D,this.getList=r,this.list=y,this.indexOf=g,this.idPropertyNames=void 0,this.restoreSelection=h,this.equal=function(a,b){if(void 0===x.idPropertyNames){x.idPropertyNames=[];for(var c in x.idPropertyNames)x.idPropertyNames.push(c)}if(0===x.idPropertyNames.length)return a===b;for(var d=0;d<x.idPropertyNames.length;d++){var c=x.idPropertyNames[d],e=a[c],f=b[c];if(e!==f)return!1}return!0}};return a}),angular.module("ng-puremodels").factory("sortable",["$parse","selectable","sorting",function(a,b,c){var d=function(d,e){var f=new b(d),g=new c(e),h={};g.onChange=function(){f.list.sort(function(b,c){for(var d=0;d<g.statusesOrderedFifo.length;d++){var e=g.statusesOrderedFifo[d];void 0===h[e]&&(h[e]=a("obj."+e));var f=g.statuses[e];if(void 0===f&&console.log("null for:",e),0!==f.sortDir){var i={obj:b},j=h[e](i),i={obj:c},k=h[e](i);if(j!==k){if(void 0===j)return-1*f.sortDir;if(void 0===k)return 1*f.sortDir;if(angular.isFunction(j.localeCompare))var l=j.localeCompare(k)*f.sortDir;else{if(j==k)return 0;var l=j>k?f.sortDir:-1*f.sortDir}return l}}}return 0}),f.restoreSelection()},this.list=f.list,this.selectable=f,this.sorting=g};return d}]),angular.module("ng-puremodels").factory("sorting",function(){var a=function(a){function b(){for(var b=0;b<a.length;b++){var c={name:a[b],defaultSortDir:0,sortDir:0};j[a[b]]=c}}function c(a){var b={name:a,defaultSortDir:0,sortDir:0};return b}function d(b){var c=e(b,k);-1===c?(k.splice(0,0,b),a.splice(0,0,b)):(k.splice(c,1),k.splice(0,0,b))}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d===a)return c}return-1}function f(a){return void 0===j[a]&&(j[a]=c(a)),j[a]}function g(){}function h(a,b){void 0===j[a]&&(j[a]=c(a)),j[a].sortDir=b,d(a),i.onChange()}var i=this,a=void 0!==a?a:[],j={},k=[];b(),this.sortUp=function(a){h(a,1)},this.sortDown=function(a){h(a,-1)},this.sortToggle=function(a){var b=f(a);return 0===f(a).sortDir?void i.sortDown(a):void h(a,-1*b.sortDir)},this.sortReset=function(a){h(a,f(a).defaultSortDir)},this.sortAllReset=function(){for(var b=0;b<a.length;b++){var c=f(a[b]);c.sortDir=c.defaultSortDir}i.onChange()},this.getStatusVerbose=function(a,b){void 0===b&&(b=["sort-asc","sort","sort-desc"]);var c=f(a);return b[c.sortDir+1]},this.onChange=g,this.statuses=j,this.statusesOrderedFifo=k,this.names=a};return a}),angular.module("ng-puremodels").factory("tree",["selectable",function(a){var b=function(b,c,d){function e(a){var b=a.path;if(0===b.length)return void 0;for(var c=N,d=0;d<b.length-1;d++)var c=c.children[b[d]];return c}function f(a){if(void 0!==a.children&&!a.leaf)for(var b=0;b<a.children.length;b++){var c=a.children[b],d=a.path.slice(0);d.push(b),c.path=d,c.id=c.path.join("-"),f(c)}}function g(a,b){return b.leaf?void j(a,b):(i(a),void h(a,b))}function h(a,b){b.children.push(a),f(b)}function i(a){var b=e(a);if(void 0!==b){var c=a.path[a.path.length-1];b.children.splice(c,1),f(b)}}function j(a,b){i(a);for(var c=e(b),d=c.children.length,g=0;g<c.children.length;g++){var h=c.children[g];if(h===b){d=g;break}}c.children.splice(d+1,0,a),f(c)}function k(a,b,d){var e={path:[],data:d,leaf:!0,loading:!0,expanded:!1};return e.leaf=c.isLeaf(d),void 0===b?e:(e.path=b.path.slice(0),e.path.push(a),e.id=e.path.join("-"),e)}function l(a,b){if(void 0!==a&&(void 0===M||M.id!==a.id||M.selected!=a.selected)){var c=M;void 0!==c&&(c.selected=!1),1==b?(M=a,M.selected=b):M=void 0,m(c,M)}}function m(a,b){try{void 0!==K.fireChangeSelectionEvent&&K.fireChangeSelectionEvent(a,b)}catch(c){console.log(c)}}function n(a){l(a,!0)}function o(a,b){l(a,!0),x(a,b)}function p(a){l(a,!1)}function q(){return M}function r(){return void 0!==q()?q().id:"-1"}function s(a){for(var b=N,c=0;c<a.length;c++)b=b.children[a[c]];return b}function t(){if(void 0===q())return void 0;var a=u(q().path);return a}function u(a){for(var b=[N],c=N,d=0;d<a.length;d++)c=c.children[a[d]],b.push(c);return b}function v(a){w(a,function(){I()})}function w(a,b){a.expanded=!0,x(a,b)}function x(b,d){void 0===d&&(d=function(){}),b.leaf||(void 0===b.children?(b.loading=!0,c.getChildren(b.data,function(c){b.loading=!1,b.children=[];for(var e=0;e<c.length;e++){var f=k(e,b,c[e]);b.children.push(f)}void 0===K.decorateNodeOnCreate?b.selectableChildren=new a(b.children):K.decorateNodeOnCreate(b),void 0!==d&&d(b)},function(a){b.loading=!1,b.error=a,b.children=void 0,void 0!==d&&d(b)})):void 0!==d&&d(b))}function y(a,b){a.leaf?b():w(a,function(a){for(var c=0,d=0;d<a.children.length;d++){var e=a.children[d];y(e,function(){c++,c===a.children.length&&b()})}})}function z(a){void 0===a&&(a=K.rootNode),A(a),I()}function A(a){if(!a.leaf&&(a.expanded=!1,void 0!==a.children))for(var b=0;b<a.children.length;b++){var c=a.children[b];A(c)}}function B(a){for(var b=a,c=void 0;void 0===c;){var b=e(b);if(void 0===b)break;var d=b.path[b.path.length-1],f=d+1,g=e(b);if(void 0!==g&&g.children.length!==f){c=g.children[f];break}}return c}function C(a,b){if(void 0===a)return void b(N);var c=e(a);if(a.leaf&&void 0===c)return void b(void 0);var d=a.path[a.path.length-1],f=d+1;if(a.leaf){if(c.children.length!==f)return void b(c.children[f]);b(B(a))}else w(a,function(a){return void 0!==a.children&&a.children.length>0?void b(a.children[0]):void b(B(a))})}function D(a){a.expanded=!1,I()}function E(a){a.expanded===!1?v(a):D(a)}function F(a){E(a),n(a)}function G(a){n(a),v(e(a))}function H(a,b){if(b.push(a),a.expanded)for(var c=0;c<a.children.length;c++){var d=a.children[c];H(d,b)}}function I(){var a=[];return H(N,a),N.expandedNodesAndLeafs=a,a}function J(a,b){console.log("node selection:",a,";",b)}var K=this,L=b,M=void 0,c=c;void 0===c&&(c={isLeaf:function(a){return void 0===a.children},getUid:function(a){return void 0!==a.id?a.id:void 0!==a.uid?a.uid:void 0!==a.name?a.name:void 0},getChildren:function(a,b){b(a.children)}});var N=k(-1,void 0,L);I(),this.rootNode=N,this.fireChangeSelectionEvent=J,this.expandNode=v,this.collapseNode=D,this.toggleExpandNode=E,this.selectNode=n,this.unselectNode=p,this.getLastNodeByPath=s,this.getNodesByPath=u,this.getNodesBySelectedPath=t,this.toggleAndSelectExpandNode=F,this.selectNodeAndLoadChildren=o,this.selectNodeAndExpandParent=G,this.loadNodeChildrenAsync=x,this.decorateNodeOnCreate=d,this.getSelectedNode=q,this.getSelectedNodeId=r,this.nextNode=C,this.expandAllAsync=y,this.collapseAll=z,this.addNode=h,this.dropNodeOnAnotherNode=g,this.deleteNode=i,this.resetNode=f,this.getParent=e};return b}]),angular.module("ng-puremodels").directive("iconGroupButton",function(){return{restrict:"AEC",scope:{actions:"=",btnGroupClasses:"="},link:function(){},templateUrl:"dev/directives/group_button.html"}}),angular.module("ng-puremodels").directive("iconButton",function(){return{restrict:"AEC",scope:{action:"=",btnClasses:"=",iconClasses:"="},link:function(){},templateUrl:"dev/directives/button.html"}}),angular.module("ng-puremodels").directive("sortTh",function(){return{scope:{sorting:"=",pname:"="},templateUrl:"dev/directives/sort-th.html"}}),angular.module("ng-puremodels").filter("pager",function(){return function(a,b,c){for(var d=[],e=0;e<a.length;e++)e>=b*c&&(b+1)*c>e&&d.push(a[e]);return d}}).filter("limitTo",function(){return function(a,b){for(var c=[],d=0;d<a.length;d++)b>d&&c.push(a[d]);return c}}).filter("range",function(){return function(a,b,c){for(var d=[],e=0;e<a.length;e++)e>=b&&c>=e&&d.push(a[e]);return d}}).filter("offset",function(){return function(a,b,c){for(var d=[],e=0;e<a.length;e++)e>=b&&b+c>=e&&d.push(a[e]);return d}}).filter("last",function(){return function(a,b){for(var c=[],d=0;d<a.length;d++)d>a.length-b&&c.push(a[d]);return c}}),angular.module("ng-puremodels",[]),angular.module("ng-puremodels").factory("action",[function(){var a={add:"fa fa-plus"},b={iconClassesPrefix:"fa fa-",btnClasses:"btn btn-default",btnClassesProcessing:"btn btn-warning",btnClassesFinishSuccess:"btn btn-success",btnClassesFinishFailure:"btn btn-danger",text_processing_suffix:"_processing",text_finish_success_suffix:"_success",text_finish_failure_suffix:"_failure"},c=function(c,d,e){var f=this;void 0===e&&(e=b,e.cssAliases=a),void 0===e.cssAliases&&(e.cssAliases=a),this.name=c,this.text=c,this.visible=!0,this.processing=!1,this.finishing=!1,this.iconClasses=void 0===e.cssAliases[c]?"fa fa-"+c:e.cssAliases[c],this.disabled=!1,this.btnClasses="btn btn-default",this.invoke=angular.isFunction(d[c])?d[c]:function(){this.console.log("empty handler for:"+c)},this.processing=function(){f.disabled=!0,f.textOrigin=f.text,f.btnClassesOrigin=f.btnClasses,f.text=f.text+"_processing",f.btnClasses="btn btn-warning"},this.finishing=function(a){a?(f.text=f.textOrigin+"_success",f.btnClasses="btn btn-success"):(f.text=f.textOrigin+"_failure",f.btnClasses="btn btn-danger")},this.normal=function(){f.text=f.textOrigin,f.btnClasses=f.btnClassesOrigin}};return c}]),angular.module("ng-puremodels").factory("async",["$timeout",function(a){var b=function(){function b(b,c){e++,f[e]=b;var d=e;return a(function(){delete f[d]},1e3*c),d}function c(a,b){delete f[a],f[a]={},e++;var c=e;return f[a][c]=b,c}function d(b,c,d){delete f[b],f[b]={},e++;var g=e,h=b;return f[b][g]=c,a(function(){delete f[h][g],console.log("deleted")},1e3*d),g}var e=0,f={};this.objectsMap=f,this.addAndDeleteAfterTimeout=b,this.replaceAndDeleteAfterTimeout=d,this.replace=c};return b}]),angular.module("ng-puremodels").factory("crud",["action","sortable","$timeout",function(a,b,c){var d=function(d,e,f){function g(){p.adding=!0,o()}function h(){p.adding=!1,p.editing=!1,p.adding||p.editing||-1!==p.getSelectedIndex()&&p.toggleIndex(p.getSelectedIndex()),o()}function i(){p.adding=!1,p.editing=!0,p.itemInEditOriginal=q.selectable.getSelectedObject(),p.itemInEdit=angular.copy(p.itemInEditOriginal),o()}function j(a){c(function(){a(p.itemInEdit)},1e3)}function k(a){c(function(){a(p.itemInEdit)},1e3)}function l(a){var b=q.selectable.getSelectedObject();c(function(){a(b)},1e3)}function m(){p.adding&&(p.error=void 0,p.saving=!0,p.actions.save.processing(),p.persistAdd(function(a){q.list.push(a),q.selectable.restoreSelection(),q.sorting.onChange(),p.actions.save.finishing(!0),p.saving=!1,c(function(){p.actions.save.normal(),p.adding=!1,p.editing=!1,o()},2e3)},function(a){p.actions.save.normal(),p.saving=!1,p.error=a,o()})),p.editing&&(p.error=void 0,p.saving=!0,p.actions.save.processing(),p.persistSave(function(a){angular.copy(a,p.itemInEditOriginal),p.actions.save.finishing(!0),p.saving=!1,c(function(){p.actions.save.normal(),p.adding=!1,p.editing=!1,o()},2e3)},function(a){p.actions.save.normal(),p.saving=!1,p.error=a,o()}))}function n(){p.persistTrash(function(a){var b=q.selectable.indexOf(a);-1!=b&&q.list.splice(b,1),q.selectable.restoreSelection(),q.sorting.onChange(),o()},function(a){p.error=a}),o()}function o(){return p.adding||p.editing?(p.actions.add.visible=!1,p.actions.edit.visible=!1,p.actions.save.visible=!0,p.actions.trash.visible=!1,p.actions.close.visible=!0):(p.actions.add.visible=!0,p.actions.edit.visible=!0,p.actions.save.visible=!1,p.actions.trash.visible=!0,p.actions.close.visible=!0),p.loading||p.saving?(p.actions.add.disable=!0,p.actions.edit.disable=!0,p.actions.save.disable=!0,p.actions.trash.disable=!0,void(p.actions.close.disable=!0)):p.adding||p.editing?(p.actions.add.disable=!0,p.actions.edit.disable=!0,p.actions.save.disable=!1,p.actions.trash.disable=!0,void(p.actions.close.disable=!1)):-1!==p.getSelectedIndex()?(p.actions.add.disable=!1,p.actions.edit.disable=!1,p.actions.save.disable=!0,p.actions.trash.disable=!1,void(p.actions.close.disable=!1)):(p.actions.add.disable=!1,p.actions.edit.disable=!0,p.actions.save.disable=!0,p.actions.trash.disable=!0,p.actions.close.disable=!0,void console.log("_this.actions.edit.disable:",p.actions.edit.disable))}var p=this,q=new b(d,e);void 0===f&&(f={view:!0,edit:!0,add:!0,remove:!0}),this.editing=!1,this.loading=!1,this.saving=!1,this.adding=!1,this.itemInEdit=null,this.itemInEditOriginal=null,this.add=g,this.save=m,this.edit=i,this.trash=n,this.close=h,this.persistAdd=j,this.persistSave=k,this.persistTrash=l,this.list=q.list,this.selectable=q.selectable,this.sorting=q.sorting,this.toggleIndex=function(a){p.loading||p.saving||p.editing||p.adding||(p.selectable.toggleIndex(a),o())},this.getSelectedIndex=function(){return p.selectable.getSelectedIndex()};for(var r="add,save,edit,trash,close".split(","),s={},t=0;t<r.length;t++){var u=r[t];s[u]=new a(u,this)}this.actions=s,o()};return d}]),angular.module("ng-puremodels").factory("groupable",["selectable",function(a){var b=function(b,c){function d(){this.getPropertyType=function(a,b,c){if(void 0===c)return"object";var d=typeof c;return"object"===d&&"[object Array]"===Object.prototype.toString.call(c)&&(d="array"),d}}function e(a){f.groups=_.chain(g).groupBy(a,i[a].iteratee).value()}var f=this,g=void 0===b?[]:b.slice(0),h=(new d,_.map(c,function(a){var b=typeof g[0][a];return{name:a,type:b}}));h.splice(0,0,{name:"__none__"});var i=_.indexBy(h,"name"),j=new a(h);j.selectIndex(0),j.fireChangeSelectionEvent=function(){var a=f.selectableProperties.getSelectedObject().name;return"none"===a?void(f.groups=void 0):void e(a)},this.groupBy=e,this.selectableProperties=j};return b}]),angular.module("ng-puremodels").factory("paging",function(){var a=function(a,b){function c(a){for(;a.length;)a.pop()}var d=this;this.totalItems=a,this.currentPage=0,this.currentOffset=0,this.limitTo=0,this.pageNumbers=[],this.visitedPages={},this.needPaging=!0,this.itemsPerPage=void 0!==b?b:4,this.maxPagesInView=5,this.hasNext=function(){return(d.currentPage+1)*d.itemsPerPage>d.totalItems?!1:!0},this.more=function(){d.next()},this.next=function(){d.setPage(d.currentPage+1)},this.hasPrev=function(){return(d.currentPage-1)*d.itemsPerPage<0?!1:!0},this.prev=function(){d.hasPrev()&&d.setPage(d.currentPage-1)},this.home=function(){d.setPage(0)},this.hasEnd=function(){return-1===d.totalItems?!1:!0},this.all=function(){d.itemsPerPage=d.totalItems,d.needPaging=!1,d.setPage(0)},this.end=function(){d.itemsPerPage=d.setPage(0)},this.setPage=function(a){d.currentPage=a,d.limitTo=(d.currentPage+1)*d.itemsPerPage,d.currentOffset=d.currentPage*d.itemsPerPage,c(d.pageNumbers);for(var b=0;b<d.maxPagesInView;b++)b*d.itemsPerPage<=d.totalItems&&d.pageNumbers.push(b)},this.pageChanged=function(){},this.setPage(0)};return a}),angular.module("ng-puremodels").factory("selectable",function(){var a=function(a){function b(a){for(;a.length;)a.pop()}function c(){b(C),b(D);for(var a=0;a<y.length;a++)B[a]===!0&&(C.push(y[a]),D.push(a))}function d(){for(var a=!1,b=0;b<y.length;b++)B[b]===!0&&(a=!0),B[b]=!1;a&&j(-1,!1)}function e(){for(var a=!1,b=0;b<y.length;b++)B[b]===!1&&(a=!0),B[b]=!0;a&&j(-1,!0)}function f(){for(var a=0;a<y.length;a++)B[a]=!B[a];j(-1,void 0)}function g(a){for(var b=0;b<y.length;b++){var c=y[b];if(x.equal(a,c))return b}return-1}function h(){b(B),b(D);for(var a=0;a<y.length;a++)B.push(!1);for(var a=0;a<C.length;a++)for(var d=C[a],e=0;e<y.length;e++){var f=y[e];x.equal(d,f)&&(B[e]=!0)}if(c(),z=-1,void 0!==A)for(var e=0;e<y.length;e++){var f=y[e];x.equal(A,f)&&(z=e)}}function i(a,b){if(!(0>a||a>=y.length)){var c=B[a];B[a]=b,c!==b&&j(a,b)}}function j(a,b){c();try{void 0!==x.fireChangeMultiSelectionEvent&&x.fireChangeMultiSelectionEvent(a,b)}catch(d){console.log(d)}}function k(a){i(a,!0)}function l(a){i(a,!1)}function m(a){i(a,!B[a])}function n(){return z}function o(){return A}function p(a){if(z!==a){var b=z,c=A;-1>a||a>=y.length||(z=a,A=-1===a?void 0:y[a],q(c,A,b,z))}}function q(a,b,c){try{void 0!==x.fireChangeSelectionEvent&&x.fireChangeSelectionEvent(a,A,c,z)}catch(d){console.log(d)}}function r(){return y}function s(a){p(a)}function t(){p(-1)}function u(a){p(z===a?-1:a)}function v(a,b){console.log("multi selection:",a,";",b)}function w(a,b,c,d){console.log("selection:",a,";",b,";",c,";",d)}for(var x=this,y=void 0!==a?a.slice(0):[],z=-1,A=void 0,B=[],C=[],D=[],E=0;E<y.length;E++)B.push(!1);this.getSelectedIndex=n,this.getSelectedObject=o,this.selectIndex=s,this.unselectIndex=t,this.toggleIndex=u,this.fireChangeSelectionEvent=w,this.fireChangeMultiSelectionEvent=v,this.unselectAll=d,this.selectAll=e,this.toggleAll=f,this.multiSelect=k,this.multiUnselect=l,this.multiToggleSelect=m,this.multiSelections=B,this.multiSelectedObjects=C,this.multiSelectedIndexes=D,this.getList=r,this.list=y,this.indexOf=g,this.idPropertyNames=void 0,this.restoreSelection=h,this.equal=function(a,b){if(void 0===x.idPropertyNames){x.idPropertyNames=[];for(var c in x.idPropertyNames)x.idPropertyNames.push(c)}if(0===x.idPropertyNames.length)return a===b;for(var d=0;d<x.idPropertyNames.length;d++){var c=x.idPropertyNames[d],e=a[c],f=b[c];if(e!==f)return!1}return!0}};return a}),angular.module("ng-puremodels").factory("sortable",["$parse","selectable","sorting",function(a,b,c){var d=function(d,e){var f=new b(d),g=new c(e),h={};g.onChange=function(){f.list.sort(function(b,c){for(var d=0;d<g.statusesOrderedFifo.length;d++){var e=g.statusesOrderedFifo[d];void 0===h[e]&&(h[e]=a("obj."+e));var f=g.statuses[e];if(void 0===f&&console.log("null for:",e),0!==f.sortDir){var i={obj:b},j=h[e](i),i={obj:c},k=h[e](i);if(j!==k){if(void 0===j)return-1*f.sortDir;if(void 0===k)return 1*f.sortDir;if(angular.isFunction(j.localeCompare))var l=j.localeCompare(k)*f.sortDir;else{if(j==k)return 0;var l=j>k?f.sortDir:-1*f.sortDir}return l}}}return 0}),f.restoreSelection()},this.list=f.list,this.selectable=f,this.sorting=g};return d}]),angular.module("ng-puremodels").factory("sorting",function(){var a=function(a){function b(){for(var b=0;b<a.length;b++){var c={name:a[b],defaultSortDir:0,sortDir:0};j[a[b]]=c}}function c(a){var b={name:a,defaultSortDir:0,sortDir:0};return b}function d(b){var c=e(b,k);-1===c?(k.splice(0,0,b),a.splice(0,0,b)):(k.splice(c,1),k.splice(0,0,b))}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d===a)return c}return-1}function f(a){return void 0===j[a]&&(j[a]=c(a)),j[a]}function g(){}function h(a,b){void 0===j[a]&&(j[a]=c(a)),j[a].sortDir=b,d(a),i.onChange()}var i=this,a=void 0!==a?a:[],j={},k=[];b(),this.sortUp=function(a){h(a,1)},this.sortDown=function(a){h(a,-1)},this.sortToggle=function(a){var b=f(a);return 0===f(a).sortDir?void i.sortDown(a):void h(a,-1*b.sortDir)},this.sortReset=function(a){h(a,f(a).defaultSortDir)},this.sortAllReset=function(){for(var b=0;b<a.length;b++){var c=f(a[b]);c.sortDir=c.defaultSortDir}i.onChange()},this.getStatusVerbose=function(a,b){void 0===b&&(b=["sort-asc","sort","sort-desc"]);var c=f(a);return b[c.sortDir+1]},this.onChange=g,this.statuses=j,this.statusesOrderedFifo=k,this.names=a};return a}),angular.module("ng-puremodels").factory("tree",["selectable",function(a){var b=function(b,c,d){function e(a){var b=a.path;if(0===b.length)return void 0;for(var c=N,d=0;d<b.length-1;d++)var c=c.children[b[d]];return c}function f(a){if(void 0!==a.children&&!a.leaf)for(var b=0;b<a.children.length;b++){var c=a.children[b],d=a.path.slice(0);d.push(b),c.path=d,c.id=c.path.join("-"),f(c)}}function g(a,b){return b.leaf?void j(a,b):(i(a),void h(a,b))}function h(a,b){b.children.push(a),f(b)}function i(a){var b=e(a);if(void 0!==b){var c=a.path[a.path.length-1];b.children.splice(c,1),f(b)}}function j(a,b){i(a);for(var c=e(b),d=c.children.length,g=0;g<c.children.length;g++){var h=c.children[g];if(h===b){d=g;break}}c.children.splice(d+1,0,a),f(c)}function k(a,b,d){var e={path:[],data:d,leaf:!0,loading:!0,expanded:!1};return e.leaf=c.isLeaf(d),void 0===b?e:(e.path=b.path.slice(0),e.path.push(a),e.id=e.path.join("-"),e)}function l(a,b){if(void 0!==a&&(void 0===M||M.id!==a.id||M.selected!=a.selected)){var c=M;void 0!==c&&(c.selected=!1),1==b?(M=a,M.selected=b):M=void 0,m(c,M)}}function m(a,b){try{void 0!==K.fireChangeSelectionEvent&&K.fireChangeSelectionEvent(a,b)}catch(c){console.log(c)}}function n(a){l(a,!0)}function o(a,b){l(a,!0),x(a,b)}function p(a){l(a,!1)}function q(){return M}function r(){return void 0!==q()?q().id:"-1"}function s(a){for(var b=N,c=0;c<a.length;c++)b=b.children[a[c]];return b}function t(){if(void 0===q())return void 0;var a=u(q().path);return a}function u(a){for(var b=[N],c=N,d=0;d<a.length;d++)c=c.children[a[d]],b.push(c);return b}function v(a){w(a,function(){I()})}function w(a,b){a.expanded=!0,x(a,b)}function x(b,d){void 0===d&&(d=function(){}),b.leaf||(void 0===b.children?(b.loading=!0,c.getChildren(b.data,function(c){b.loading=!1,b.children=[];for(var e=0;e<c.length;e++){var f=k(e,b,c[e]);b.children.push(f)}void 0===K.decorateNodeOnCreate?b.selectableChildren=new a(b.children):K.decorateNodeOnCreate(b),void 0!==d&&d(b)},function(a){b.loading=!1,b.error=a,b.children=void 0,void 0!==d&&d(b)})):void 0!==d&&d(b))}function y(a,b){a.leaf?b():w(a,function(a){for(var c=0,d=0;d<a.children.length;d++){var e=a.children[d];y(e,function(){c++,c===a.children.length&&b()})}})}function z(a){void 0===a&&(a=K.rootNode),A(a),I()}function A(a){if(!a.leaf&&(a.expanded=!1,void 0!==a.children))for(var b=0;b<a.children.length;b++){var c=a.children[b];A(c)}}function B(a){for(var b=a,c=void 0;void 0===c;){var b=e(b);if(void 0===b)break;var d=b.path[b.path.length-1],f=d+1,g=e(b);if(void 0!==g&&g.children.length!==f){c=g.children[f];break}}return c}function C(a,b){if(void 0===a)return void b(N);var c=e(a);if(a.leaf&&void 0===c)return void b(void 0);
var d=a.path[a.path.length-1],f=d+1;if(a.leaf){if(c.children.length!==f)return void b(c.children[f]);b(B(a))}else w(a,function(a){return void 0!==a.children&&a.children.length>0?void b(a.children[0]):void b(B(a))})}function D(a){a.expanded=!1,I()}function E(a){a.expanded===!1?v(a):D(a)}function F(a){E(a),n(a)}function G(a){n(a),v(e(a))}function H(a,b){if(b.push(a),a.expanded)for(var c=0;c<a.children.length;c++){var d=a.children[c];H(d,b)}}function I(){var a=[];return H(N,a),N.expandedNodesAndLeafs=a,a}function J(a,b){console.log("node selection:",a,";",b)}var K=this,L=b,M=void 0,c=c;void 0===c&&(c={isLeaf:function(a){return void 0===a.children},getUid:function(a){return void 0!==a.id?a.id:void 0!==a.uid?a.uid:void 0!==a.name?a.name:void 0},getChildren:function(a,b){b(a.children)}});var N=k(-1,void 0,L);I(),this.rootNode=N,this.fireChangeSelectionEvent=J,this.expandNode=v,this.collapseNode=D,this.toggleExpandNode=E,this.selectNode=n,this.unselectNode=p,this.getLastNodeByPath=s,this.getNodesByPath=u,this.getNodesBySelectedPath=t,this.toggleAndSelectExpandNode=F,this.selectNodeAndLoadChildren=o,this.selectNodeAndExpandParent=G,this.loadNodeChildrenAsync=x,this.decorateNodeOnCreate=d,this.getSelectedNode=q,this.getSelectedNodeId=r,this.nextNode=C,this.expandAllAsync=y,this.collapseAll=z,this.addNode=h,this.dropNodeOnAnotherNode=g,this.deleteNode=i,this.resetNode=f,this.getParent=e};return b}]),angular.module("ng-puremodels",[]),angular.module("ng-puremodels").factory("action",[function(){var a={add:"fa fa-plus"},b={iconClassesPrefix:"fa fa-",btnClasses:"btn btn-default",btnClassesProcessing:"btn btn-warning",btnClassesFinishSuccess:"btn btn-success",btnClassesFinishFailure:"btn btn-danger",text_processing_suffix:"_processing",text_finish_success_suffix:"_success",text_finish_failure_suffix:"_failure"},c=function(c,d,e){var f=this;void 0===e&&(e=b,e.cssAliases=a),void 0===e.cssAliases&&(e.cssAliases=a),this.name=c,this.text=c,this.visible=!0,this.processing=!1,this.finishing=!1,this.iconClasses=void 0===e.cssAliases[c]?"fa fa-"+c:e.cssAliases[c],this.disabled=!1,this.btnClasses="btn btn-default",this.invoke=angular.isFunction(d[c])?d[c]:function(){this.console.log("empty handler for:"+c)},this.processing=function(){f.disabled=!0,f.textOrigin=f.text,f.btnClassesOrigin=f.btnClasses,f.text=f.text+"_processing",f.btnClasses="btn btn-warning"},this.finishing=function(a){a?(f.text=f.textOrigin+"_success",f.btnClasses="btn btn-success"):(f.text=f.textOrigin+"_failure",f.btnClasses="btn btn-danger")},this.normal=function(){f.text=f.textOrigin,f.btnClasses=f.btnClassesOrigin}};return c}]),angular.module("ng-puremodels").factory("async",["$timeout",function(a){var b=function(){function b(b,c){e++,f[e]=b;var d=e;return a(function(){delete f[d]},1e3*c),d}function c(a,b){delete f[a],f[a]={},e++;var c=e;return f[a][c]=b,c}function d(b,c,d){delete f[b],f[b]={},e++;var g=e,h=b;return f[b][g]=c,a(function(){delete f[h][g],console.log("deleted")},1e3*d),g}var e=0,f={};this.objectsMap=f,this.addAndDeleteAfterTimeout=b,this.replaceAndDeleteAfterTimeout=d,this.replace=c};return b}]),angular.module("ng-puremodels").factory("crud",["action","sortable","$timeout",function(a,b,c){var d=function(d,e,f){function g(){p.adding=!0,o()}function h(){p.adding=!1,p.editing=!1,p.adding||p.editing||-1!==p.getSelectedIndex()&&p.toggleIndex(p.getSelectedIndex()),o()}function i(){p.adding=!1,p.editing=!0,p.itemInEditOriginal=q.selectable.getSelectedObject(),p.itemInEdit=angular.copy(p.itemInEditOriginal),o()}function j(a){c(function(){a(p.itemInEdit)},1e3)}function k(a){c(function(){a(p.itemInEdit)},1e3)}function l(a){var b=q.selectable.getSelectedObject();c(function(){a(b)},1e3)}function m(){p.adding&&(p.error=void 0,p.saving=!0,p.actions.save.processing(),p.persistAdd(function(a){q.list.push(a),q.selectable.restoreSelection(),q.sorting.onChange(),p.actions.save.finishing(!0),p.saving=!1,c(function(){p.actions.save.normal(),p.adding=!1,p.editing=!1,o()},2e3)},function(a){p.actions.save.normal(),p.saving=!1,p.error=a,o()})),p.editing&&(p.error=void 0,p.saving=!0,p.actions.save.processing(),p.persistSave(function(a){angular.copy(a,p.itemInEditOriginal),p.actions.save.finishing(!0),p.saving=!1,c(function(){p.actions.save.normal(),p.adding=!1,p.editing=!1,o()},2e3)},function(a){p.actions.save.normal(),p.saving=!1,p.error=a,o()}))}function n(){p.persistTrash(function(a){var b=q.selectable.indexOf(a);-1!=b&&q.list.splice(b,1),q.selectable.restoreSelection(),q.sorting.onChange(),o()},function(a){p.error=a}),o()}function o(){return p.adding||p.editing?(p.actions.add.visible=!1,p.actions.edit.visible=!1,p.actions.save.visible=!0,p.actions.trash.visible=!1,p.actions.close.visible=!0):(p.actions.add.visible=!0,p.actions.edit.visible=!0,p.actions.save.visible=!1,p.actions.trash.visible=!0,p.actions.close.visible=!0),p.loading||p.saving?(p.actions.add.disable=!0,p.actions.edit.disable=!0,p.actions.save.disable=!0,p.actions.trash.disable=!0,void(p.actions.close.disable=!0)):p.adding||p.editing?(p.actions.add.disable=!0,p.actions.edit.disable=!0,p.actions.save.disable=!1,p.actions.trash.disable=!0,void(p.actions.close.disable=!1)):-1!==p.getSelectedIndex()?(p.actions.add.disable=!1,p.actions.edit.disable=!1,p.actions.save.disable=!0,p.actions.trash.disable=!1,void(p.actions.close.disable=!1)):(p.actions.add.disable=!1,p.actions.edit.disable=!0,p.actions.save.disable=!0,p.actions.trash.disable=!0,p.actions.close.disable=!0,void console.log("_this.actions.edit.disable:",p.actions.edit.disable))}var p=this,q=new b(d,e);void 0===f&&(f={view:!0,edit:!0,add:!0,remove:!0}),this.editing=!1,this.loading=!1,this.saving=!1,this.adding=!1,this.itemInEdit=null,this.itemInEditOriginal=null,this.add=g,this.save=m,this.edit=i,this.trash=n,this.close=h,this.persistAdd=j,this.persistSave=k,this.persistTrash=l,this.list=q.list,this.selectable=q.selectable,this.sorting=q.sorting,this.toggleIndex=function(a){p.loading||p.saving||p.editing||p.adding||(p.selectable.toggleIndex(a),o())},this.getSelectedIndex=function(){return p.selectable.getSelectedIndex()};for(var r="add,save,edit,trash,close".split(","),s={},t=0;t<r.length;t++){var u=r[t];s[u]=new a(u,this)}this.actions=s,o()};return d}]),angular.module("ng-puremodels").factory("groupable",["selectable",function(a){var b=function(b,c){function d(){this.getPropertyType=function(a,b,c){if(void 0===c)return"object";var d=typeof c;return"object"===d&&"[object Array]"===Object.prototype.toString.call(c)&&(d="array"),d}}function e(a){f.groups=_.chain(g).groupBy(a,i[a].iteratee).value()}var f=this,g=void 0===b?[]:b.slice(0),h=(new d,_.map(c,function(a){var b=typeof g[0][a];return{name:a,type:b}}));h.splice(0,0,{name:"__none__"});var i=_.indexBy(h,"name"),j=new a(h);j.selectIndex(0),j.fireChangeSelectionEvent=function(){var a=f.selectableProperties.getSelectedObject().name;return"none"===a?void(f.groups=void 0):void e(a)},this.groupBy=e,this.selectableProperties=j};return b}]),angular.module("ng-puremodels").factory("paging",function(){var a=function(a,b){function c(a){for(;a.length;)a.pop()}var d=this;this.totalItems=a,this.currentPage=0,this.currentOffset=0,this.limitTo=0,this.pageNumbers=[],this.visitedPages={},this.needPaging=!0,this.itemsPerPage=void 0!==b?b:4,this.maxPagesInView=5,this.hasNext=function(){return(d.currentPage+1)*d.itemsPerPage>d.totalItems?!1:!0},this.more=function(){d.next()},this.next=function(){d.setPage(d.currentPage+1)},this.hasPrev=function(){return(d.currentPage-1)*d.itemsPerPage<0?!1:!0},this.prev=function(){d.hasPrev()&&d.setPage(d.currentPage-1)},this.home=function(){d.setPage(0)},this.hasEnd=function(){return-1===d.totalItems?!1:!0},this.all=function(){d.itemsPerPage=d.totalItems,d.needPaging=!1,d.setPage(0)},this.end=function(){d.itemsPerPage=d.setPage(0)},this.setPage=function(a){d.currentPage=a,d.limitTo=(d.currentPage+1)*d.itemsPerPage,d.currentOffset=d.currentPage*d.itemsPerPage,c(d.pageNumbers);for(var b=0;b<d.maxPagesInView;b++)b*d.itemsPerPage<=d.totalItems&&d.pageNumbers.push(b)},this.pageChanged=function(){},this.setPage(0)};return a}),angular.module("ng-puremodels").factory("selectable",function(){var a=function(a){function b(a){for(;a.length;)a.pop()}function c(){b(C),b(D);for(var a=0;a<y.length;a++)B[a]===!0&&(C.push(y[a]),D.push(a))}function d(){for(var a=!1,b=0;b<y.length;b++)B[b]===!0&&(a=!0),B[b]=!1;a&&j(-1,!1)}function e(){for(var a=!1,b=0;b<y.length;b++)B[b]===!1&&(a=!0),B[b]=!0;a&&j(-1,!0)}function f(){for(var a=0;a<y.length;a++)B[a]=!B[a];j(-1,void 0)}function g(a){for(var b=0;b<y.length;b++){var c=y[b];if(x.equal(a,c))return b}return-1}function h(){b(B),b(D);for(var a=0;a<y.length;a++)B.push(!1);for(var a=0;a<C.length;a++)for(var d=C[a],e=0;e<y.length;e++){var f=y[e];x.equal(d,f)&&(B[e]=!0)}if(c(),z=-1,void 0!==A)for(var e=0;e<y.length;e++){var f=y[e];x.equal(A,f)&&(z=e)}}function i(a,b){if(!(0>a||a>=y.length)){var c=B[a];B[a]=b,c!==b&&j(a,b)}}function j(a,b){c();try{void 0!==x.fireChangeMultiSelectionEvent&&x.fireChangeMultiSelectionEvent(a,b)}catch(d){console.log(d)}}function k(a){i(a,!0)}function l(a){i(a,!1)}function m(a){i(a,!B[a])}function n(){return z}function o(){return A}function p(a){if(z!==a){var b=z,c=A;-1>a||a>=y.length||(z=a,A=-1===a?void 0:y[a],q(c,A,b,z))}}function q(a,b,c){try{void 0!==x.fireChangeSelectionEvent&&x.fireChangeSelectionEvent(a,A,c,z)}catch(d){console.log(d)}}function r(){return y}function s(a){p(a)}function t(){p(-1)}function u(a){p(z===a?-1:a)}function v(a,b){console.log("multi selection:",a,";",b)}function w(a,b,c,d){console.log("selection:",a,";",b,";",c,";",d)}for(var x=this,y=void 0!==a?a.slice(0):[],z=-1,A=void 0,B=[],C=[],D=[],E=0;E<y.length;E++)B.push(!1);this.getSelectedIndex=n,this.getSelectedObject=o,this.selectIndex=s,this.unselectIndex=t,this.toggleIndex=u,this.fireChangeSelectionEvent=w,this.fireChangeMultiSelectionEvent=v,this.unselectAll=d,this.selectAll=e,this.toggleAll=f,this.multiSelect=k,this.multiUnselect=l,this.multiToggleSelect=m,this.multiSelections=B,this.multiSelectedObjects=C,this.multiSelectedIndexes=D,this.getList=r,this.list=y,this.indexOf=g,this.idPropertyNames=void 0,this.restoreSelection=h,this.equal=function(a,b){if(void 0===x.idPropertyNames){x.idPropertyNames=[];for(var c in x.idPropertyNames)x.idPropertyNames.push(c)}if(0===x.idPropertyNames.length)return a===b;for(var d=0;d<x.idPropertyNames.length;d++){var c=x.idPropertyNames[d],e=a[c],f=b[c];if(e!==f)return!1}return!0}};return a}),angular.module("ng-puremodels").factory("sortable",["$parse","selectable","sorting",function(a,b,c){var d=function(d,e){var f=new b(d),g=new c(e),h={};g.onChange=function(){f.list.sort(function(b,c){for(var d=0;d<g.statusesOrderedFifo.length;d++){var e=g.statusesOrderedFifo[d];void 0===h[e]&&(h[e]=a("obj."+e));var f=g.statuses[e];if(void 0===f&&console.log("null for:",e),0!==f.sortDir){var i={obj:b},j=h[e](i),i={obj:c},k=h[e](i);if(j!==k){if(void 0===j)return-1*f.sortDir;if(void 0===k)return 1*f.sortDir;if(angular.isFunction(j.localeCompare))var l=j.localeCompare(k)*f.sortDir;else{if(j==k)return 0;var l=j>k?f.sortDir:-1*f.sortDir}return l}}}return 0}),f.restoreSelection()},this.list=f.list,this.selectable=f,this.sorting=g};return d}]),angular.module("ng-puremodels").factory("sorting",function(){var a=function(a){function b(){for(var b=0;b<a.length;b++){var c={name:a[b],defaultSortDir:0,sortDir:0};j[a[b]]=c}}function c(a){var b={name:a,defaultSortDir:0,sortDir:0};return b}function d(b){var c=e(b,k);-1===c?(k.splice(0,0,b),a.splice(0,0,b)):(k.splice(c,1),k.splice(0,0,b))}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d===a)return c}return-1}function f(a){return void 0===j[a]&&(j[a]=c(a)),j[a]}function g(){}function h(a,b){void 0===j[a]&&(j[a]=c(a)),j[a].sortDir=b,d(a),i.onChange()}var i=this,a=void 0!==a?a:[],j={},k=[];b(),this.sortUp=function(a){h(a,1)},this.sortDown=function(a){h(a,-1)},this.sortToggle=function(a){var b=f(a);return 0===f(a).sortDir?void i.sortDown(a):void h(a,-1*b.sortDir)},this.sortReset=function(a){h(a,f(a).defaultSortDir)},this.sortAllReset=function(){for(var b=0;b<a.length;b++){var c=f(a[b]);c.sortDir=c.defaultSortDir}i.onChange()},this.getStatusVerbose=function(a,b){void 0===b&&(b=["sort-asc","sort","sort-desc"]);var c=f(a);return b[c.sortDir+1]},this.onChange=g,this.statuses=j,this.statusesOrderedFifo=k,this.names=a};return a}),angular.module("ng-puremodels").factory("tree",["selectable",function(a){var b=function(b,c,d){function e(a){var b=a.path;if(0===b.length)return void 0;for(var c=N,d=0;d<b.length-1;d++)var c=c.children[b[d]];return c}function f(a){if(void 0!==a.children&&!a.leaf)for(var b=0;b<a.children.length;b++){var c=a.children[b],d=a.path.slice(0);d.push(b),c.path=d,c.id=c.path.join("-"),f(c)}}function g(a,b){return b.leaf?void j(a,b):(i(a),void h(a,b))}function h(a,b){b.children.push(a),f(b)}function i(a){var b=e(a);if(void 0!==b){var c=a.path[a.path.length-1];b.children.splice(c,1),f(b)}}function j(a,b){i(a);for(var c=e(b),d=c.children.length,g=0;g<c.children.length;g++){var h=c.children[g];if(h===b){d=g;break}}c.children.splice(d+1,0,a),f(c)}function k(a,b,d){var e={path:[],data:d,leaf:!0,loading:!0,expanded:!1};return e.leaf=c.isLeaf(d),void 0===b?e:(e.path=b.path.slice(0),e.path.push(a),e.id=e.path.join("-"),e)}function l(a,b){if(void 0!==a&&(void 0===M||M.id!==a.id||M.selected!=a.selected)){var c=M;void 0!==c&&(c.selected=!1),1==b?(M=a,M.selected=b):M=void 0,m(c,M)}}function m(a,b){try{void 0!==K.fireChangeSelectionEvent&&K.fireChangeSelectionEvent(a,b)}catch(c){console.log(c)}}function n(a){l(a,!0)}function o(a,b){l(a,!0),x(a,b)}function p(a){l(a,!1)}function q(){return M}function r(){return void 0!==q()?q().id:"-1"}function s(a){for(var b=N,c=0;c<a.length;c++)b=b.children[a[c]];return b}function t(){if(void 0===q())return void 0;var a=u(q().path);return a}function u(a){for(var b=[N],c=N,d=0;d<a.length;d++)c=c.children[a[d]],b.push(c);return b}function v(a){w(a,function(){I()})}function w(a,b){a.expanded=!0,x(a,b)}function x(b,d){void 0===d&&(d=function(){}),b.leaf||(void 0===b.children?(b.loading=!0,c.getChildren(b.data,function(c){b.loading=!1,b.children=[];for(var e=0;e<c.length;e++){var f=k(e,b,c[e]);b.children.push(f)}void 0===K.decorateNodeOnCreate?b.selectableChildren=new a(b.children):K.decorateNodeOnCreate(b),void 0!==d&&d(b)},function(a){b.loading=!1,b.error=a,b.children=void 0,void 0!==d&&d(b)})):void 0!==d&&d(b))}function y(a,b){a.leaf?b():w(a,function(a){for(var c=0,d=0;d<a.children.length;d++){var e=a.children[d];y(e,function(){c++,c===a.children.length&&b()})}})}function z(a){void 0===a&&(a=K.rootNode),A(a),I()}function A(a){if(!a.leaf&&(a.expanded=!1,void 0!==a.children))for(var b=0;b<a.children.length;b++){var c=a.children[b];A(c)}}function B(a){for(var b=a,c=void 0;void 0===c;){var b=e(b);if(void 0===b)break;var d=b.path[b.path.length-1],f=d+1,g=e(b);if(void 0!==g&&g.children.length!==f){c=g.children[f];break}}return c}function C(a,b){if(void 0===a)return void b(N);var c=e(a);if(a.leaf&&void 0===c)return void b(void 0);var d=a.path[a.path.length-1],f=d+1;if(a.leaf){if(c.children.length!==f)return void b(c.children[f]);b(B(a))}else w(a,function(a){return void 0!==a.children&&a.children.length>0?void b(a.children[0]):void b(B(a))})}function D(a){a.expanded=!1,I()}function E(a){a.expanded===!1?v(a):D(a)}function F(a){E(a),n(a)}function G(a){n(a),v(e(a))}function H(a,b){if(b.push(a),a.expanded)for(var c=0;c<a.children.length;c++){var d=a.children[c];H(d,b)}}function I(){var a=[];return H(N,a),N.expandedNodesAndLeafs=a,a}function J(a,b){console.log("node selection:",a,";",b)}var K=this,L=b,M=void 0,c=c;void 0===c&&(c={isLeaf:function(a){return void 0===a.children},getUid:function(a){return void 0!==a.id?a.id:void 0!==a.uid?a.uid:void 0!==a.name?a.name:void 0},getChildren:function(a,b){b(a.children)}});var N=k(-1,void 0,L);I(),this.rootNode=N,this.fireChangeSelectionEvent=J,this.expandNode=v,this.collapseNode=D,this.toggleExpandNode=E,this.selectNode=n,this.unselectNode=p,this.getLastNodeByPath=s,this.getNodesByPath=u,this.getNodesBySelectedPath=t,this.toggleAndSelectExpandNode=F,this.selectNodeAndLoadChildren=o,this.selectNodeAndExpandParent=G,this.loadNodeChildrenAsync=x,this.decorateNodeOnCreate=d,this.getSelectedNode=q,this.getSelectedNodeId=r,this.nextNode=C,this.expandAllAsync=y,this.collapseAll=z,this.addNode=h,this.dropNodeOnAnotherNode=g,this.deleteNode=i,this.resetNode=f,this.getParent=e};return b}]),angular.module("ng-puremodels",[]),angular.module("ng-puremodels").factory("action",[function(){var a={add:"fa fa-plus"},b={iconClassesPrefix:"fa fa-",btnClasses:"btn btn-default",btnClassesProcessing:"btn btn-warning",btnClassesFinishSuccess:"btn btn-success",btnClassesFinishFailure:"btn btn-danger",text_processing_suffix:"_processing",text_finish_success_suffix:"_success",text_finish_failure_suffix:"_failure"},c=function(c,d,e){var f=this;void 0===e&&(e=b,e.cssAliases=a),void 0===e.cssAliases&&(e.cssAliases=a),this.name=c,this.text=c,this.visible=!0,this.processing=!1,this.finishing=!1,this.iconClasses=void 0===e.cssAliases[c]?"fa fa-"+c:e.cssAliases[c],this.disabled=!1,this.btnClasses="btn btn-default",this.invoke=angular.isFunction(d[c])?d[c]:function(){this.console.log("empty handler for:"+c)},this.processing=function(){f.disabled=!0,f.textOrigin=f.text,f.btnClassesOrigin=f.btnClasses,f.text=f.text+"_processing",f.btnClasses="btn btn-warning"},this.finishing=function(a){a?(f.text=f.textOrigin+"_success",f.btnClasses="btn btn-success"):(f.text=f.textOrigin+"_failure",f.btnClasses="btn btn-danger")},this.normal=function(){f.text=f.textOrigin,f.btnClasses=f.btnClassesOrigin}};return c}]),angular.module("ng-puremodels").factory("async",["$timeout",function(a){var b=function(){function b(b,c){e++,f[e]=b;var d=e;return a(function(){delete f[d]},1e3*c),d}function c(a,b){delete f[a],f[a]={},e++;var c=e;return f[a][c]=b,c}function d(b,c,d){delete f[b],f[b]={},e++;var g=e,h=b;return f[b][g]=c,a(function(){delete f[h][g],console.log("deleted")},1e3*d),g}var e=0,f={};this.objectsMap=f,this.addAndDeleteAfterTimeout=b,this.replaceAndDeleteAfterTimeout=d,this.replace=c};return b}]),angular.module("ng-puremodels").factory("crud",["action","sortable","$timeout",function(a,b,c){var d=function(d,e,f){function g(){p.adding=!0,o()}function h(){p.adding=!1,p.editing=!1,p.adding||p.editing||-1!==p.getSelectedIndex()&&p.toggleIndex(p.getSelectedIndex()),o()}function i(){p.adding=!1,p.editing=!0,p.itemInEditOriginal=q.selectable.getSelectedObject(),p.itemInEdit=angular.copy(p.itemInEditOriginal),o()}function j(a){c(function(){a(p.itemInEdit)},1e3)}function k(a){c(function(){a(p.itemInEdit)},1e3)}function l(a){var b=q.selectable.getSelectedObject();c(function(){a(b)},1e3)}function m(){p.adding&&(p.error=void 0,p.saving=!0,p.actions.save.processing(),p.persistAdd(function(a){q.list.push(a),q.selectable.restoreSelection(),q.sorting.onChange(),p.actions.save.finishing(!0),p.saving=!1,c(function(){p.actions.save.normal(),p.adding=!1,p.editing=!1,o()},2e3)},function(a){p.actions.save.normal(),p.saving=!1,p.error=a,o()})),p.editing&&(p.error=void 0,p.saving=!0,p.actions.save.processing(),p.persistSave(function(a){angular.copy(a,p.itemInEditOriginal),p.actions.save.finishing(!0),p.saving=!1,c(function(){p.actions.save.normal(),p.adding=!1,p.editing=!1,o()},2e3)},function(a){p.actions.save.normal(),p.saving=!1,p.error=a,o()}))}function n(){p.persistTrash(function(a){var b=q.selectable.indexOf(a);-1!=b&&q.list.splice(b,1),q.selectable.restoreSelection(),q.sorting.onChange(),o()},function(a){p.error=a}),o()}function o(){return p.adding||p.editing?(p.actions.add.visible=!1,p.actions.edit.visible=!1,p.actions.save.visible=!0,p.actions.trash.visible=!1,p.actions.close.visible=!0):(p.actions.add.visible=!0,p.actions.edit.visible=!0,p.actions.save.visible=!1,p.actions.trash.visible=!0,p.actions.close.visible=!0),p.loading||p.saving?(p.actions.add.disable=!0,p.actions.edit.disable=!0,p.actions.save.disable=!0,p.actions.trash.disable=!0,void(p.actions.close.disable=!0)):p.adding||p.editing?(p.actions.add.disable=!0,p.actions.edit.disable=!0,p.actions.save.disable=!1,p.actions.trash.disable=!0,void(p.actions.close.disable=!1)):-1!==p.getSelectedIndex()?(p.actions.add.disable=!1,p.actions.edit.disable=!1,p.actions.save.disable=!0,p.actions.trash.disable=!1,void(p.actions.close.disable=!1)):(p.actions.add.disable=!1,p.actions.edit.disable=!0,p.actions.save.disable=!0,p.actions.trash.disable=!0,p.actions.close.disable=!0,void console.log("_this.actions.edit.disable:",p.actions.edit.disable))}var p=this,q=new b(d,e);void 0===f&&(f={view:!0,edit:!0,add:!0,remove:!0}),this.editing=!1,this.loading=!1,this.saving=!1,this.adding=!1,this.itemInEdit=null,this.itemInEditOriginal=null,this.add=g,this.save=m,this.edit=i,this.trash=n,this.close=h,this.persistAdd=j,this.persistSave=k,this.persistTrash=l,this.list=q.list,this.selectable=q.selectable,this.sorting=q.sorting,this.toggleIndex=function(a){p.loading||p.saving||p.editing||p.adding||(p.selectable.toggleIndex(a),o())},this.getSelectedIndex=function(){return p.selectable.getSelectedIndex()};for(var r="add,save,edit,trash,close".split(","),s={},t=0;t<r.length;t++){var u=r[t];s[u]=new a(u,this)}this.actions=s,o()};return d}]),angular.module("ng-puremodels").factory("groupable",["selectable",function(a){var b=function(b,c){function d(){this.getPropertyType=function(a,b,c){if(void 0===c)return"object";var d=typeof c;return"object"===d&&"[object Array]"===Object.prototype.toString.call(c)&&(d="array"),d}}function e(a){f.groups=_.chain(g).groupBy(a,i[a].iteratee).value()}var f=this,g=void 0===b?[]:b.slice(0),h=(new d,_.map(c,function(a){var b=typeof g[0][a];return{name:a,type:b}}));h.splice(0,0,{name:"__none__"});var i=_.indexBy(h,"name"),j=new a(h);j.selectIndex(0),j.fireChangeSelectionEvent=function(){var a=f.selectableProperties.getSelectedObject().name;return"none"===a?void(f.groups=void 0):void e(a)},this.groupBy=e,this.selectableProperties=j};return b}]),angular.module("ng-puremodels").factory("paging",function(){var a=function(a,b){function c(a){for(;a.length;)a.pop()}var d=this;this.totalItems=a,this.currentPage=0,this.currentOffset=0,this.limitTo=0,this.pageNumbers=[],this.visitedPages={},this.needPaging=!0,this.itemsPerPage=void 0!==b?b:4,this.maxPagesInView=5,this.hasNext=function(){return(d.currentPage+1)*d.itemsPerPage>d.totalItems?!1:!0},this.more=function(){d.next()},this.next=function(){d.setPage(d.currentPage+1)},this.hasPrev=function(){return(d.currentPage-1)*d.itemsPerPage<0?!1:!0},this.prev=function(){d.hasPrev()&&d.setPage(d.currentPage-1)},this.home=function(){d.setPage(0)},this.hasEnd=function(){return-1===d.totalItems?!1:!0},this.all=function(){d.itemsPerPage=d.totalItems,d.needPaging=!1,d.setPage(0)},this.end=function(){d.itemsPerPage=d.setPage(0)},this.setPage=function(a){d.currentPage=a,d.limitTo=(d.currentPage+1)*d.itemsPerPage,d.currentOffset=d.currentPage*d.itemsPerPage,c(d.pageNumbers);for(var b=0;b<d.maxPagesInView;b++)b*d.itemsPerPage<=d.totalItems&&d.pageNumbers.push(b)},this.pageChanged=function(){},this.setPage(0)};return a}),angular.module("ng-puremodels").factory("selectable",function(){var a=function(a){function b(a){for(;a.length;)a.pop()}function c(){b(C),b(D);for(var a=0;a<y.length;a++)B[a]===!0&&(C.push(y[a]),D.push(a))}function d(){for(var a=!1,b=0;b<y.length;b++)B[b]===!0&&(a=!0),B[b]=!1;a&&j(-1,!1)}function e(){for(var a=!1,b=0;b<y.length;b++)B[b]===!1&&(a=!0),B[b]=!0;a&&j(-1,!0)}function f(){for(var a=0;a<y.length;a++)B[a]=!B[a];j(-1,void 0)}function g(a){for(var b=0;b<y.length;b++){var c=y[b];if(x.equal(a,c))return b}return-1}function h(){b(B),b(D);for(var a=0;a<y.length;a++)B.push(!1);for(var a=0;a<C.length;a++)for(var d=C[a],e=0;e<y.length;e++){var f=y[e];x.equal(d,f)&&(B[e]=!0)}if(c(),z=-1,void 0!==A)for(var e=0;e<y.length;e++){var f=y[e];x.equal(A,f)&&(z=e)}}function i(a,b){if(!(0>a||a>=y.length)){var c=B[a];B[a]=b,c!==b&&j(a,b)}}function j(a,b){c();try{void 0!==x.fireChangeMultiSelectionEvent&&x.fireChangeMultiSelectionEvent(a,b)}catch(d){console.log(d)}}function k(a){i(a,!0)}function l(a){i(a,!1)}function m(a){i(a,!B[a])}function n(){return z}function o(){return A}function p(a){if(z!==a){var b=z,c=A;-1>a||a>=y.length||(z=a,A=-1===a?void 0:y[a],q(c,A,b,z))}}function q(a,b,c){try{void 0!==x.fireChangeSelectionEvent&&x.fireChangeSelectionEvent(a,A,c,z)}catch(d){console.log(d)}}function r(){return y}function s(a){p(a)}function t(){p(-1)}function u(a){p(z===a?-1:a)}function v(a,b){console.log("multi selection:",a,";",b)}function w(a,b,c,d){console.log("selection:",a,";",b,";",c,";",d)}for(var x=this,y=void 0!==a?a.slice(0):[],z=-1,A=void 0,B=[],C=[],D=[],E=0;E<y.length;E++)B.push(!1);this.getSelectedIndex=n,this.getSelectedObject=o,this.selectIndex=s,this.unselectIndex=t,this.toggleIndex=u,this.fireChangeSelectionEvent=w,this.fireChangeMultiSelectionEvent=v,this.unselectAll=d,this.selectAll=e,this.toggleAll=f,this.multiSelect=k,this.multiUnselect=l,this.multiToggleSelect=m,this.multiSelections=B,this.multiSelectedObjects=C,this.multiSelectedIndexes=D,this.getList=r,this.list=y,this.indexOf=g,this.idPropertyNames=void 0,this.restoreSelection=h,this.equal=function(a,b){if(void 0===x.idPropertyNames){x.idPropertyNames=[];for(var c in x.idPropertyNames)x.idPropertyNames.push(c)}if(0===x.idPropertyNames.length)return a===b;for(var d=0;d<x.idPropertyNames.length;d++){var c=x.idPropertyNames[d],e=a[c],f=b[c];if(e!==f)return!1}return!0}};return a}),angular.module("ng-puremodels").factory("sortable",["selectable","sorting",function(a,b){var c=function(c,d){var e=new a(c),f=new b(d);f.onChange=function(){e.list.sort(function(a,b){for(var c=0;c<f.statusesOrderedFifo.length;c++){var d=f.statusesOrderedFifo[c],e=f.statuses[d];if(void 0===e&&console.log("null for:",d),0!==e.sortDir){var g=a[d],h=b[d];if(g!==h){if(void 0===g)return-1*e.sortDir;if(void 0===h)return 1*e.sortDir;if(angular.isFunction(g.localeCompare))var i=g.localeCompare(h)*e.sortDir;else{if(g==h)return 0;var i=g>h?e.sortDir:-1*e.sortDir}return i}}}return 0}),e.restoreSelection()},this.list=e.list,this.selectable=e,this.sorting=f};return c}]),angular.module("ng-puremodels").factory("sorting",function(){var a=function(a){function b(){for(var b=0;b<a.length;b++){var c={name:a[b],defaultSortDir:0,sortDir:0};j[a[b]]=c}}function c(a){var b={name:a,defaultSortDir:0,sortDir:0};return b}function d(b){var c=e(b,k);-1===c?(k.splice(0,0,b),a.splice(0,0,b)):(k.splice(c,1),k.splice(0,0,b))}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d===a)return c}return-1}function f(a){return void 0===j[a]&&(j[a]=c(a)),j[a]}function g(a,b,c){console.log("pname:",a," oldDir:",b," newDir:",c)}function h(a,b){void 0===j[a]&&(j[a]=c(a)),j[a].sortDir=b,d(a),i.onChange()}var i=this,a=void 0!==a?a:[],j={},k=[];b(),this.sortUp=function(a){h(a,1)},this.sortDown=function(a){h(a,-1)},this.sortToggle=function(a){var b=f(a);return console.log("pname:",a," status:",b),0===f(a).sortDir?void i.sortDown(a):void h(a,-1*b.sortDir)},this.sortReset=function(a){h(a,f(a).defaultSortDir)},this.sortAllReset=function(){for(var b=0;b<a.length;b++){var c=f(a[b]);c.sortDir=c.defaultSortDir}i.onChange()},this.getStatusVerbose=function(a,b){void 0===b&&(b=["sort-asc","sort","sort-desc"]);var c=f(a);return b[c.sortDir+1]},this.onChange=g,this.statuses=j,this.statusesOrderedFifo=k,this.names=a};return a}),angular.module("ng-puremodels").factory("tree",["selectable",function(a){var b=function(b,c){function d(a){var b=a.path;if(0===b.length)return void 0;for(var c=J,d=0;d<b.length-1;d++)var c=c.children[b[d]];return c}function e(a){if(void 0!==a.children&&!a.leaf)for(var b=0;b<a.children.length;b++){var c=a.children[b],d=a.path.slice(0);d.push(b),c.path=d,c.id=c.path.join("-"),e(c)}}function f(a,b){return b.leaf?void i(a,b):(h(a),void g(a,b))}function g(a,b){b.children.push(a),e(b)}function h(a){var b=d(a);if(void 0!==b){var c=a.path[a.path.length-1];b.children.splice(c,1),e(b)}}function i(a,b){h(a);for(var c=d(b),f=c.children.length,g=0;g<c.children.length;g++){var i=c.children[g];if(i===b){f=g;break}}c.children.splice(f+1,0,a),e(c)}function j(a,b,d){var e={path:[],data:d,leaf:!0,loading:!0,expanded:!1};return e.leaf=c.isLeaf(d),void 0===b?e:(e.path=b.path.slice(0),e.path.push(a),e.id=e.path.join("-"),e)}function k(a){a.selected=!0,I=a}function l(a,b){a.selected=!0,I=a,u(a,b)}function m(a){a.selected=!1}function n(){return I}function o(){return void 0!==n()?n().id:"-1"}function p(a){for(var b=J,c=0;c<a.length;c++)b=b.children[a[c]];return b}function q(){if(void 0===n())return void 0;var a=r(n().path);return a}function r(a){for(var b=[J],c=J,d=0;d<a.length;d++)c=c.children[a[d]],b.push(c);return b}function s(a){t(a,function(){F()})}function t(a,b){a.expanded=!0,u(a,b)}function u(b,d){void 0===d&&(d=function(){}),b.leaf||(void 0===b.children?(b.loading=!0,c.getChildren(b.data,function(c){b.loading=!1,b.children=[];for(var e=0;e<c.length;e++){var f=j(e,b,c[e]);b.children.push(f)}b.selectableChildren=new a(b.children),void 0!==d&&d(b)},function(a){b.loading=!1,b.error=a,b.children=void 0,void 0!==d&&d(b)})):void 0!==d&&d(b))}function v(a,b){a.leaf?b():t(a,function(a){for(var c=0,d=0;d<a.children.length;d++){var e=a.children[d];v(e,function(){c++,c===a.children.length&&b()})}})}function w(a){void 0===a&&(a=G.rootNode),x(a),F()}function x(a){if(!a.leaf&&(a.expanded=!1,void 0!==a.children))for(var b=0;b<a.children.length;b++){var c=a.children[b];x(c)}}function y(a){for(var b=a,c=void 0;void 0===c;){var b=d(b);if(void 0===b)break;var e=b.path[b.path.length-1],f=e+1,g=d(b);if(void 0!==g&&g.children.length!==f){c=g.children[f];break}}return c}function z(a,b){if(void 0===a)return void b(J);var c=d(a);if(a.leaf&&void 0===c)return void b(void 0);var e=a.path[a.path.length-1],f=e+1;if(a.leaf){if(c.children.length!==f)return void b(c.children[f]);b(y(a))}else t(a,function(a){return void 0!==a.children&&a.children.length>0?void b(a.children[0]):void b(y(a))})}function A(a){a.expanded=!1,F()}function B(a){a.expanded===!1?s(a):A(a)}function C(a){B(a),k(a)}function D(a){k(a),s(d(a))}function E(a,b){if(b.push(a),a.expanded)for(var c=0;c<a.children.length;c++){var d=a.children[c];E(d,b)}}function F(){var a=[];return E(J,a),J.expandedNodesAndLeafs=a,a}var G=this,H=b,I=void 0,c=c;void 0===c&&(c={isLeaf:function(a){return void 0===a.children},getUid:function(a){return void 0!==a.id?a.id:void 0!==a.uid?a.uid:void 0!==a.name?a.name:void 0},getChildren:function(a,b){b(a.children)}});var J=j(-1,void 0,H);F(),this.rootNode=J,this.expandNode=s,this.collapseNode=A,this.toggleExpandNode=B,this.selectNode=k,this.unselectNode=m,this.getLastNodeByPath=p,this.getNodesByPath=r,this.getNodesBySelectedPath=q,this.toggleAndSelectExpandNode=C,this.selectNodeAndLoadChildren=l,this.selectNodeAndExpandParent=D,this.loadNodeChildrenAsync=u,this.getSelectedNode=n,this.getSelectedNodeId=o,this.nextNode=z,this.expandAllAsync=v,this.collapseAll=w,this.addNode=g,this.dropNodeOnAnotherNode=f,this.deleteNode=h,this.resetNode=e,this.getParent=d};return b}]),angular.module("ng-puremodels",[]),angular.module("ng-puremodels").factory("action",[function(){var a={add:"fa fa-plus"},b={iconClassesPrefix:"fa fa-",btnClasses:"btn btn-default",btnClassesProcessing:"btn btn-warning",btnClassesFinishSuccess:"btn btn-success",btnClassesFinishFailure:"btn btn-danger",text_processing_suffix:"_processing",text_finish_success_suffix:"_success",text_finish_failure_suffix:"_failure"},c=function(c,d,e){var f=this;void 0===e&&(e=b,e.cssAliases=a),void 0===e.cssAliases&&(e.cssAliases=a),this.name=c,this.text=c,this.visible=!0,this.processing=!1,this.finishing=!1,this.iconClasses=void 0===e.cssAliases[c]?"fa fa-"+c:e.cssAliases[c],this.disabled=!1,this.btnClasses="btn btn-default",this.invoke=angular.isFunction(d[c])?d[c]:function(){this.console.log("empty handler for:"+c)},this.processing=function(){f.disabled=!0,f.textOrigin=f.text,f.btnClassesOrigin=f.btnClasses,f.text=f.text+"_processing",f.btnClasses="btn btn-warning"
},this.finishing=function(a){a?(f.text=f.textOrigin+"_success",f.btnClasses="btn btn-success"):(f.text=f.textOrigin+"_failure",f.btnClasses="btn btn-danger")},this.normal=function(){f.text=f.textOrigin,f.btnClasses=f.btnClassesOrigin}};return c}]),angular.module("ng-puremodels").factory("async",["$timeout",function(a){var b=function(){function b(b,c){e++,f[e]=b;var d=e;return a(function(){delete f[d]},1e3*c),d}function c(a,b){delete f[a],f[a]={},e++;var c=e;return f[a][c]=b,c}function d(b,c,d){delete f[b],f[b]={},e++;var g=e,h=b;return f[b][g]=c,a(function(){delete f[h][g],console.log("deleted")},1e3*d),g}var e=0,f={};this.objectsMap=f,this.addAndDeleteAfterTimeout=b,this.replaceAndDeleteAfterTimeout=d,this.replace=c};return b}]),angular.module("ng-puremodels").factory("crud",["action","sortable","$timeout",function(a,b,c){var d=function(d,e,f){function g(){p.adding=!0,o()}function h(){p.adding=!1,p.editing=!1,p.adding||p.editing||-1!==p.getSelectedIndex()&&p.toggleIndex(p.getSelectedIndex()),o()}function i(){p.adding=!1,p.editing=!0,p.itemInEditOriginal=q.selectable.getSelectedObject(),p.itemInEdit=angular.copy(p.itemInEditOriginal),o()}function j(a){c(function(){a(p.itemInEdit)},1e3)}function k(a){c(function(){a(p.itemInEdit)},1e3)}function l(a){var b=q.selectable.getSelectedObject();c(function(){a(b)},1e3)}function m(){p.adding&&(p.error=void 0,p.saving=!0,p.actions.save.processing(),p.persistAdd(function(a){q.list.push(a),q.selectable.restoreSelection(),q.sorting.onChange(),p.actions.save.finishing(!0),p.saving=!1,c(function(){p.actions.save.normal(),p.adding=!1,p.editing=!1,o()},2e3)},function(a){p.actions.save.normal(),p.saving=!1,p.error=a,o()})),p.editing&&(p.error=void 0,p.saving=!0,p.actions.save.processing(),p.persistSave(function(a){angular.copy(a,p.itemInEditOriginal),p.actions.save.finishing(!0),p.saving=!1,c(function(){p.actions.save.normal(),p.adding=!1,p.editing=!1,o()},2e3)},function(a){p.actions.save.normal(),p.saving=!1,p.error=a,o()}))}function n(){p.persistTrash(function(a){var b=q.selectable.indexOf(a);-1!=b&&q.list.splice(b,1),q.selectable.restoreSelection(),q.sorting.onChange(),o()},function(a){p.error=a}),o()}function o(){return p.adding||p.editing?(p.actions.add.visible=!1,p.actions.edit.visible=!1,p.actions.save.visible=!0,p.actions.trash.visible=!1,p.actions.close.visible=!0):(p.actions.add.visible=!0,p.actions.edit.visible=!0,p.actions.save.visible=!1,p.actions.trash.visible=!0,p.actions.close.visible=!0),p.loading||p.saving?(p.actions.add.disable=!0,p.actions.edit.disable=!0,p.actions.save.disable=!0,p.actions.trash.disable=!0,void(p.actions.close.disable=!0)):p.adding||p.editing?(p.actions.add.disable=!0,p.actions.edit.disable=!0,p.actions.save.disable=!1,p.actions.trash.disable=!0,void(p.actions.close.disable=!1)):-1!==p.getSelectedIndex()?(p.actions.add.disable=!1,p.actions.edit.disable=!1,p.actions.save.disable=!0,p.actions.trash.disable=!1,void(p.actions.close.disable=!1)):(p.actions.add.disable=!1,p.actions.edit.disable=!0,p.actions.save.disable=!0,p.actions.trash.disable=!0,p.actions.close.disable=!0,void console.log("_this.actions.edit.disable:",p.actions.edit.disable))}var p=this,q=new b(d,e);void 0===f&&(f={view:!0,edit:!0,add:!0,remove:!0}),this.editing=!1,this.loading=!1,this.saving=!1,this.adding=!1,this.itemInEdit=null,this.itemInEditOriginal=null,this.add=g,this.save=m,this.edit=i,this.trash=n,this.close=h,this.persistAdd=j,this.persistSave=k,this.persistTrash=l,this.list=q.list,this.selectable=q.selectable,this.sorting=q.sorting,this.toggleIndex=function(a){p.loading||p.saving||p.editing||p.adding||(p.selectable.toggleIndex(a),o())},this.getSelectedIndex=function(){return p.selectable.getSelectedIndex()};for(var r="add,save,edit,trash,close".split(","),s={},t=0;t<r.length;t++){var u=r[t];s[u]=new a(u,this)}this.actions=s,o()};return d}]),angular.module("ng-puremodels").factory("groupable",["selectable",function(a){var b=function(b,c){function d(){this.getPropertyType=function(a,b,c){if(void 0===c)return"object";var d=typeof c;return"object"===d&&"[object Array]"===Object.prototype.toString.call(c)&&(d="array"),d}}function e(a){f.groups=_.chain(g).groupBy(a,i[a].iteratee).value()}var f=this,g=void 0===b?[]:b.slice(0),h=(new d,_.map(c,function(a){var b=typeof g[0][a];return{name:a,type:b}}));h.splice(0,0,{name:"__none__"});var i=_.indexBy(h,"name"),j=new a(h);j.selectIndex(0),j.fireChangeSelectionEvent=function(){var a=f.selectableProperties.getSelectedObject().name;return"none"===a?void(f.groups=void 0):void e(a)},this.groupBy=e,this.selectableProperties=j};return b}]),angular.module("ng-puremodels").factory("paging",function(){var a=function(a,b){function c(a){for(;a.length;)a.pop()}var d=this;this.totalItems=a,this.currentPage=0,this.currentOffset=0,this.limitTo=0,this.pageNumbers=[],this.visitedPages={},this.needPaging=!0,this.itemsPerPage=void 0!==b?b:4,this.maxPagesInView=5,this.hasNext=function(){return(d.currentPage+1)*d.itemsPerPage>d.totalItems?!1:!0},this.more=function(){d.next()},this.next=function(){d.setPage(d.currentPage+1)},this.hasPrev=function(){return(d.currentPage-1)*d.itemsPerPage<0?!1:!0},this.prev=function(){d.hasPrev()&&d.setPage(d.currentPage-1)},this.home=function(){d.setPage(0)},this.hasEnd=function(){return-1===d.totalItems?!1:!0},this.all=function(){d.itemsPerPage=d.totalItems,d.needPaging=!1,d.setPage(0)},this.end=function(){d.itemsPerPage=d.setPage(0)},this.setPage=function(a){d.currentPage=a,d.limitTo=(d.currentPage+1)*d.itemsPerPage,d.currentOffset=d.currentPage*d.itemsPerPage,c(d.pageNumbers);for(var b=0;b<d.maxPagesInView;b++)b*d.itemsPerPage<=d.totalItems&&d.pageNumbers.push(b)},this.pageChanged=function(){},this.setPage(0)};return a}),angular.module("ng-puremodels").factory("selectable",function(){var a=function(a){function b(a){for(;a.length;)a.pop()}function c(){b(C),b(D);for(var a=0;a<y.length;a++)B[a]===!0&&(C.push(y[a]),D.push(a))}function d(){for(var a=!1,b=0;b<y.length;b++)B[b]===!0&&(a=!0),B[b]=!1;a&&j(-1,!1)}function e(){for(var a=!1,b=0;b<y.length;b++)B[b]===!1&&(a=!0),B[b]=!0;a&&j(-1,!0)}function f(){for(var a=0;a<y.length;a++)B[a]=!B[a];j(-1,void 0)}function g(a){for(var b=0;b<y.length;b++){var c=y[b];if(x.equal(a,c))return b}return-1}function h(){b(B),b(D);for(var a=0;a<y.length;a++)B.push(!1);for(var a=0;a<C.length;a++)for(var d=C[a],e=0;e<y.length;e++){var f=y[e];x.equal(d,f)&&(B[e]=!0)}if(c(),z=-1,void 0!==A)for(var e=0;e<y.length;e++){var f=y[e];x.equal(A,f)&&(z=e)}}function i(a,b){if(!(0>a||a>=y.length)){var c=B[a];B[a]=b,c!==b&&j(a,b)}}function j(a,b){c();try{void 0!==x.fireChangeMultiSelectionEvent&&x.fireChangeMultiSelectionEvent(a,b)}catch(d){console.log(d)}}function k(a){i(a,!0)}function l(a){i(a,!1)}function m(a){i(a,!B[a])}function n(){return z}function o(){return A}function p(a){if(z!==a){var b=z,c=A;-1>a||a>=y.length||(z=a,A=-1===a?void 0:y[a],q(c,A,b,z))}}function q(a,b,c){try{void 0!==x.fireChangeSelectionEvent&&x.fireChangeSelectionEvent(a,A,c,z)}catch(d){console.log(d)}}function r(){return y}function s(a){p(a)}function t(){p(-1)}function u(a){p(z===a?-1:a)}function v(a,b){console.log("multi selection:",a,";",b)}function w(a,b,c,d){console.log("selection:",a,";",b,";",c,";",d)}for(var x=this,y=void 0!==a?a.slice(0):[],z=-1,A=void 0,B=[],C=[],D=[],E=0;E<y.length;E++)B.push(!1);this.getSelectedIndex=n,this.getSelectedObject=o,this.selectIndex=s,this.unselectIndex=t,this.toggleIndex=u,this.fireChangeSelectionEvent=w,this.fireChangeMultiSelectionEvent=v,this.unselectAll=d,this.selectAll=e,this.toggleAll=f,this.multiSelect=k,this.multiUnselect=l,this.multiToggleSelect=m,this.multiSelections=B,this.multiSelectedObjects=C,this.multiSelectedIndexes=D,this.getList=r,this.list=y,this.indexOf=g,this.idPropertyNames=void 0,this.restoreSelection=h,this.equal=function(a,b){if(void 0===x.idPropertyNames){x.idPropertyNames=[];for(var c in x.idPropertyNames)x.idPropertyNames.push(c)}if(0===x.idPropertyNames.length)return a===b;for(var d=0;d<x.idPropertyNames.length;d++){var c=x.idPropertyNames[d],e=a[c],f=b[c];if(e!==f)return!1}return!0}};return a}),angular.module("ng-puremodels").factory("sortable",["selectable","sorting",function(a,b){var c=function(c,d){var e=new a(c),f=new b(d);f.onChange=function(){e.list.sort(function(a,b){for(var c=0;c<f.statusesOrderedFifo.length;c++){var d=f.statusesOrderedFifo[c],e=f.statuses[d];if(void 0===e&&console.log("null for:",d),0!==e.sortDir){var g=a[d],h=b[d];if(g!==h){if(void 0===g)return-1*e.sortDir;if(void 0===h)return 1*e.sortDir;if(angular.isFunction(g.localeCompare))var i=g.localeCompare(h)*e.sortDir;else{if(g==h)return 0;var i=g>h?e.sortDir:-1*e.sortDir}return i}}}return 0}),e.restoreSelection()},this.list=e.list,this.selectable=e,this.sorting=f};return c}]),angular.module("ng-puremodels").factory("sorting",function(){var a=function(a){function b(){for(var b=0;b<a.length;b++){var c={name:a[b],defaultSortDir:0,sortDir:0};j[a[b]]=c}}function c(a){var b={name:a,defaultSortDir:0,sortDir:0};return b}function d(b){var c=e(b,k);-1===c?(k.splice(0,0,b),a.splice(0,0,b)):(k.splice(c,1),k.splice(0,0,b))}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d===a)return c}return-1}function f(a){return void 0===j[a]&&(j[a]=c(a)),j[a]}function g(a,b,c){console.log("pname:",a," oldDir:",b," newDir:",c)}function h(a,b){void 0===j[a]&&(j[a]=c(a)),j[a].sortDir=b,d(a),i.onChange()}var i=this,a=void 0!==a?a:[],j={},k=[];b(),this.sortUp=function(a){h(a,1)},this.sortDown=function(a){h(a,-1)},this.sortToggle=function(a){var b=f(a);return console.log("pname:",a," status:",b),0===f(a).sortDir?void i.sortDown(a):void h(a,-1*b.sortDir)},this.sortReset=function(a){h(a,f(a).defaultSortDir)},this.sortAllReset=function(){for(var b=0;b<a.length;b++){var c=f(a[b]);c.sortDir=c.defaultSortDir}i.onChange()},this.getStatusVerbose=function(a,b){void 0===b&&(b=["sort-asc","sort","sort-desc"]);var c=f(a);return b[c.sortDir+1]},this.onChange=g,this.statuses=j,this.statusesOrderedFifo=k,this.names=a};return a}),angular.module("ng-puremodels").factory("tree",["selectable",function(a){var b=function(b,c){function d(a){var b=a.path;if(0===b.length)return void 0;for(var c=J,d=0;d<b.length-1;d++)var c=c.children[b[d]];return c}function e(a){if(void 0!==a.children&&!a.leaf)for(var b=0;b<a.children.length;b++){var c=a.children[b],d=a.path.slice(0);d.push(b),c.path=d,c.id=c.path.join("-"),e(c)}}function f(a,b){return console.log("anotherNode:",b),b.leaf?void i(a,b):(h(a),void g(a,b))}function g(a,b){b.children.push(a),e(b)}function h(a){var b=d(a);if(void 0!==b){var c=a.path[a.path.length-1];b.children.splice(c,1),e(b)}}function i(a,b){h(a);for(var c=d(b),f=c.children.length,g=0;g<c.children.length;g++){var i=c.children[g];if(i===b){f=g;break}}c.children.splice(f+1,0,a),e(c)}function j(a,b,d){var e={path:[],data:d,leaf:!0,loading:!0,expanded:!1};return e.leaf=c.isLeaf(d),void 0===b?e:(e.path=b.path.slice(0),e.path.push(a),e.id=e.path.join("-"),e)}function k(a){a.selected=!0,I=a}function l(a,b){a.selected=!0,I=a,u(a,b)}function m(a){a.selected=!1}function n(){return I}function o(){return void 0!==n()?n().id:"-1"}function p(a){for(var b=J,c=0;c<a.length;c++)b=b.children[a[c]];return b}function q(){if(void 0===n())return void 0;var a=r(n().path);return a}function r(a){for(var b=[J],c=J,d=0;d<a.length;d++)c=c.children[a[d]],b.push(c);return b}function s(a){t(a,function(){F()})}function t(a,b){a.expanded=!0,u(a,b)}function u(b,d){void 0===d&&(d=function(){}),b.leaf||(void 0===b.children?(b.loading=!0,c.getChildren(b.data,function(c){b.loading=!1,b.children=[];for(var e=0;e<c.length;e++){var f=j(e,b,c[e]);b.children.push(f)}b.selectableChildren=new a(b.children),void 0!==d&&d(b)},function(a){b.loading=!1,b.error=a,b.children=void 0,void 0!==d&&d(b)})):void 0!==d&&d(b))}function v(a,b){a.leaf?b():t(a,function(a){for(var c=0,d=0;d<a.children.length;d++){var e=a.children[d];v(e,function(){c++,c===a.children.length&&b()})}})}function w(a){void 0===a&&(a=G.rootNode),console.log("collapse:",a.path),x(a),F()}function x(a){if(!a.leaf&&(a.expanded=!1,void 0!==a.children))for(var b=0;b<a.children.length;b++){var c=a.children[b];x(c)}}function y(a){for(var b=a,c=void 0;void 0===c;){var b=d(b);if(void 0===b)break;var e=b.path[b.path.length-1],f=e+1,g=d(b);if(void 0!==g&&g.children.length!==f){c=g.children[f];break}}return c}function z(a,b){if(void 0===a)return void b(J);var c=d(a);if(a.leaf&&void 0===c)return void b(void 0);var e=a.path[a.path.length-1],f=e+1;if(a.leaf){if(c.children.length!==f)return void b(c.children[f]);b(y(a))}else t(a,function(a){return void 0!==a.children&&a.children.length>0?void b(a.children[0]):void b(y(a))})}function A(a){a.expanded=!1,F()}function B(a){a.expanded===!1?s(a):A(a)}function C(a){B(a),k(a)}function D(a){k(a),s(d(a))}function E(a,b){if(b.push(a),a.expanded)for(var c=0;c<a.children.length;c++){var d=a.children[c];E(d,b)}}function F(){var a=[];return E(J,a),J.expandedNodesAndLeafs=a,a}var G=this,H=b,I=void 0,c=c;void 0===c&&(c={isLeaf:function(a){return void 0===a.children},getUid:function(a){return void 0!==a.id?a.id:void 0!==a.uid?a.uid:void 0!==a.name?a.name:void 0},getChildren:function(a,b){b(a.children)}});var J=j(-1,void 0,H);F(),this.rootNode=J,this.expandNode=s,this.collapseNode=A,this.toggleExpandNode=B,this.selectNode=k,this.unselectNode=m,this.getLastNodeByPath=p,this.getNodesByPath=r,this.getNodesBySelectedPath=q,this.toggleAndSelectExpandNode=C,this.selectNodeAndLoadChildren=l,this.selectNodeAndExpandParent=D,this.loadNodeChildrenAsync=u,this.getSelectedNode=n,this.getSelectedNodeId=o,this.nextNode=z,this.expandAllAsync=v,this.collapseAll=w,this.addNode=g,this.dropNodeOnAnotherNode=f,this.deleteNode=h,this.resetNode=e,this.getParent=d};return b}]),angular.module("ng-puremodels",[]),angular.module("ng-puremodels").factory("groupable",["selectable",function(a){var b=function(b,c){function d(){this.getPropertyType=function(a,b,c){if(void 0===c)return"object";var d=typeof c;return"object"===d&&"[object Array]"===Object.prototype.toString.call(c)&&(d="array"),d}}function e(a){f.groups=_.chain(g).groupBy(a,i[a].iteratee).value()}var f=this,g=void 0===b?[]:b.slice(0),h=(new d,_.map(c,function(a){var b=typeof g[0][a];return{name:a,type:b}}));h.splice(0,0,{name:"__none__"});var i=_.indexBy(h,"name"),j=new a(h);j.selectIndex(0),j.fireChangeSelectionEvent=function(){var a=f.selectableProperties.getSelectedObject().name;return"none"===a?void(f.groups=void 0):void e(a)},this.groupBy=e,this.selectableProperties=j};return b}]),angular.module("ng-puremodels").factory("paging",function(){var a=function(){this.totalItems=10,this.currentPage=1,this.setPage=function(a){this.currentPage=a},this.pageChanged=function(){},this.itemsPerPage=4,this.maxSize=5};return a}),angular.module("ng-puremodels").factory("selectable",function(){var a=function(a){function b(a){for(;a.length;)a.pop()}function c(){b(B),b(C);for(var a=0;a<x.length;a++)A[a]===!0&&(B.push(x[a]),C.push(a))}function d(){for(var a=!1,b=0;b<x.length;b++)A[b]===!0&&(a=!0),A[b]=!1;a&&i(-1,!1)}function e(){for(var a=!1,b=0;b<x.length;b++)A[b]===!1&&(a=!0),A[b]=!0;a&&i(-1,!0)}function f(){for(var a=0;a<x.length;a++)A[a]=!A[a];i(-1,void 0)}function g(){b(A),b(C);for(var a=0;a<x.length;a++)A.push(!1);for(var a=0;a<B.length;a++)for(var d=B[a],e=0;e<x.length;e++){var f=x[e];w.equal(d,f)&&(A[e]=!0)}if(c(),y=-1,void 0!==z)for(var e=0;e<x.length;e++){var f=x[e];w.equal(z,f)&&(y=e)}}function h(a,b){var c=A[a];A[a]=b,c!==b&&i(a,b)}function i(a,b){c();try{void 0!==w.fireChangeMultiSelectionEvent&&w.fireChangeMultiSelectionEvent(a,b)}catch(d){console.log(d)}}function j(a){h(a,!0)}function k(a){h(a,!1)}function l(a){h(a,!A[a])}function m(){return y}function n(){return z}function o(a){if(y!==a){var b=y,c=z;-1>a||a>=x.length||(y=a,z=-1===a?void 0:x[a],p(c,z,b,y))}}function p(a,b,c){try{void 0!==w.fireChangeSelectionEvent&&w.fireChangeSelectionEvent(a,z,c,y)}catch(d){console.log(d)}}function q(){return x}function r(a){o(a)}function s(){o(-1)}function t(a){o(y===a?-1:a)}function u(a,b){console.log("multi selection:",a,";",b)}function v(a,b,c,d){console.log("selection:",a,";",b,";",c,";",d)}for(var w=this,x=void 0!==a?a.slice(0):[],y=-1,z=void 0,A=[],B=[],C=[],D=0;D<x.length;D++)A.push(!1);this.getSelectedIndex=m,this.getSelectedObject=n,this.selectIndex=r,this.unselectIndex=s,this.toggleIndex=t,this.fireChangeSelectionEvent=v,this.fireChangeMultiSelectionEvent=u,this.unselectAll=d,this.selectAll=e,this.toggleAll=f,this.multiSelect=j,this.multiUnselect=k,this.multiToggleSelect=l,this.multiSelections=A,this.multiSelectedObjects=B,this.multiSelectedIndexes=C,this.getList=q,this.list=x,this.idPropertyNames=void 0,this.restoreSelection=g,this.equal=function(a,b){if(void 0===w.idPropertyNames){w.idPropertyNames=[];for(var c in w.idPropertyNames)w.idPropertyNames.push(c)}if(0===w.idPropertyNames.length)return a===b;for(var d=0;d<w.idPropertyNames.length;d++){var c=w.idPropertyNames[d],e=a[c],f=b[c];if(e!==f)return!1}return!0}};return a}),angular.module("ng-puremodels").factory("sortable",["selectable","sorting",function(a,b){var c=function(c,d){var e=new a(c),f=new b(d);f.onChange=function(){e.list.sort(function(a,b){for(var c=0;c<f.statusesOrderedFifo.length;c++){var d=f.statusesOrderedFifo[c],e=f.statuses[d];if(void 0===e&&console.log("null for:",d),0!==e.sortDir){var g=a[d],h=b[d];if(g!==h){if(void 0===g)return-1*e.sortDir;if(void 0===h)return 1*e.sortDir;var i=g.localeCompare(h)*e.sortDir;return i}}}return 0}),e.restoreSelection()},this.list=e.list,this.selectable=e,this.sorting=f};return c}]),angular.module("ng-puremodels").factory("sorting",function(){var a=function(a){function b(){for(var b=0;b<a.length;b++){var c={name:a[b],defaultSortDir:0,sortDir:0};j[a[b]]=c}}function c(a){var b={name:a,defaultSortDir:0,sortDir:0};return b}function d(b){var c=e(b,k);-1===c?(k.splice(0,0,b),a.splice(0,0,b)):(k.splice(c,1),k.splice(0,0,b))}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d===a)return c}return-1}function f(a){return void 0===j[a]&&(j[a]=c(a)),j[a]}function g(a,b,c){console.log("pname:",a," oldDir:",b," newDir:",c)}function h(a,b){void 0===j[a]&&(j[a]=c(a)),j[a].sortDir=b,d(a),i.onChange()}var i=this,a=void 0!==a?a:[],j={},k=[];b(),this.sortUp=function(a){h(a,1)},this.sortDown=function(a){h(a,-1)},this.sortToggle=function(a){var b=f(a);return console.log("pname:",a," status:",b),0===f(a).sortDir?void i.sortDown(a):void h(a,-1*b.sortDir)},this.sortReset=function(a){h(a,f(a).defaultSortDir)},this.sortAllReset=function(){for(var b=0;b<a.length;b++){var c=f(a[b]);c.sortDir=c.defaultSortDir}i.onChange()},this.getStatusVerbose=function(a,b){void 0===b&&(b=["sort-asc","sort","sort-desc"]);var c=f(a);return b[c.sortDir+1]},this.onChange=g,this.statuses=j,this.statusesOrderedFifo=k,this.names=a};return a}),angular.module("ng-puremodels").factory("tree",["selectable",function(a){var b=function(b,c){function d(a){var b=a.path;if(0===b.length)return void 0;for(var c=J,d=0;d<b.length-1;d++)var c=c.children[b[d]];return c}function e(a){if(void 0!==a.children&&!a.leaf)for(var b=0;b<a.children.length;b++){var c=a.children[b],d=a.path.slice(0);d.push(b),c.path=d,c.id=c.path.join("-"),e(c)}}function f(a,b){return console.log("anotherNode:",b),b.leaf?void i(a,b):(h(a),void g(a,b))}function g(a,b){b.children.push(a),e(b)}function h(a){var b=d(a);if(void 0!==b){var c=a.path[a.path.length-1];b.children.splice(c,1),e(b)}}function i(a,b){h(a);for(var c=d(b),f=c.children.length,g=0;g<c.children.length;g++){var i=c.children[g];if(i===b){f=g;break}}c.children.splice(f+1,0,a),e(c)}function j(a,b,d){var e={path:[],data:d,leaf:!0,loading:!0,expanded:!1};return e.leaf=c.isLeaf(d),void 0===b?e:(e.path=b.path.slice(0),e.path.push(a),e.id=e.path.join("-"),e)}function k(a){a.selected=!0,I=a}function l(a,b){a.selected=!0,I=a,u(a,b)}function m(a){a.selected=!1}function n(){return I}function o(){return void 0!==n()?n().id:"-1"}function p(a){for(var b=J,c=0;c<a.length;c++)b=b.children[a[c]];return b}function q(){if(void 0===n())return void 0;var a=r(n().path);return a}function r(a){for(var b=[J],c=J,d=0;d<a.length;d++)c=c.children[a[d]],b.push(c);return b}function s(a){t(a,function(){F()})}function t(a,b){a.expanded=!0,u(a,b)}function u(b,d){void 0===d&&(d=function(){}),b.leaf||(void 0===b.children?(b.loading=!0,c.getChildren(b.data,function(c){b.loading=!1,b.children=[];for(var e=0;e<c.length;e++){var f=j(e,b,c[e]);b.children.push(f)}b.selectableChildren=new a(b.children),void 0!==d&&d(b)},function(a){b.loading=!1,b.error=a,b.children=void 0,void 0!==d&&d(b)})):void 0!==d&&d(b))}function v(a,b){a.leaf?b():t(a,function(a){for(var c=0,d=0;d<a.children.length;d++){var e=a.children[d];v(e,function(){c++,c===a.children.length&&b()})}})}function w(a){void 0===a&&(a=G.rootNode),console.log("collapse:",a.path),x(a),F()}function x(a){if(!a.leaf&&(a.expanded=!1,void 0!==a.children))for(var b=0;b<a.children.length;b++){var c=a.children[b];x(c)}}function y(a){for(var b=a,c=void 0;void 0===c;){var b=d(b);if(void 0===b)break;var e=b.path[b.path.length-1],f=e+1,g=d(b);if(void 0!==g&&g.children.length!==f){c=g.children[f];break}}return c}function z(a,b){if(void 0===a)return void b(J);var c=d(a);if(a.leaf&&void 0===c)return void b(void 0);var e=a.path[a.path.length-1],f=e+1;if(a.leaf){if(c.children.length!==f)return void b(c.children[f]);b(y(a))}else t(a,function(a){return void 0!==a.children&&a.children.length>0?void b(a.children[0]):void b(y(a))})}function A(a){a.expanded=!1,F()}function B(a){a.expanded===!1?s(a):A(a)}function C(a){B(a),k(a)}function D(a){k(a),s(d(a))}function E(a,b){if(b.push(a),a.expanded)for(var c=0;c<a.children.length;c++){var d=a.children[c];E(d,b)}}function F(){var a=[];return E(J,a),J.expandedNodesAndLeafs=a,a}var G=this,H=b,I=void 0,c=c;void 0===c&&(c={isLeaf:function(a){return void 0===a.children},getUid:function(a){return void 0!==a.id?a.id:void 0!==a.uid?a.uid:void 0!==a.name?a.name:void 0},getChildren:function(a,b){b(a.children)}});var J=j(-1,void 0,H);F(),this.rootNode=J,this.expandNode=s,this.collapseNode=A,this.toggleExpandNode=B,this.selectNode=k,this.unselectNode=m,this.getLastNodeByPath=p,this.getNodesByPath=r,this.getNodesBySelectedPath=q,this.toggleAndSelectExpandNode=C,this.selectNodeAndLoadChildren=l,this.selectNodeAndExpandParent=D,this.loadNodeChildrenAsync=u,this.getSelectedNode=n,this.getSelectedNodeId=o,this.nextNode=z,this.expandAllAsync=v,this.collapseAll=w,this.addNode=g,this.dropNodeOnAnotherNode=f,this.deleteNode=h,this.resetNode=e,this.getParent=d};return b}]),angular.module("ng-puremodels",[]),angular.module("ng-puremodels").factory("selectableList",function(){var a=function(a){function b(a){for(;a.length;)a.pop()}function c(){b(z),b(A);for(var a=0;a<v.length;a++)y[a]===!0&&(z.push(v[a]),A.push(a))}function d(){for(var a=!1,b=0;b<v.length;b++)y[b]===!0&&(a=!0),y[b]=!1;a&&h(-1,!1)}function e(){for(var a=!1,b=0;b<v.length;b++)y[b]===!1&&(a=!0),y[b]=!0;a&&h(-1,!0)}function f(){for(var a=0;a<v.length;a++)y[a]=!y[a];h(-1,void 0)}function g(a,b){var c=y[a];y[a]=b,console.log("oldValue:",c,"value :",b),c!==b&&h(a,b)}function h(a,b){c();try{void 0!==u.fireChangeMultiSelectionEvent&&u.fireChangeMultiSelectionEvent(a,b)}catch(d){console.log(d)}}function i(a){g(a,!0)}function j(a){g(a,!1)}function k(a){g(a,!y[a])}function l(){return w}function m(a){if(w!==a){var b=w,c=x;-1>a||a>=v.length||(w=a,x=-1===a?void 0:v[a],n(c,x,b,w))}}function n(a,b,c){try{void 0!==u.fireChangeSelectionEvent&&u.fireChangeSelectionEvent(a,x,c,w)}catch(d){console.log(d)}}function o(){return v}function p(a){m(a)}function q(){m(-1)}function r(a){m(w===a?-1:a)}function s(a,b){console.log("multi selection:",a,";",b)}function t(a,b,c,d){console.log("selection:",a,";",b,";",c,";",d)}for(var u=this,v=a.slice(0),w=-1,x=void 0,y=[],z=[],A=[],B=0;B<v.length;B++)y.push(!1);this.getSelectedIndex=l,this.selectIndex=p,this.unselectIndex=q,this.toggleIndex=r,this.fireChangeSelectionEvent=t,this.fireChangeMultiSelectionEvent=s,this.unselectAll=d,this.selectAll=e,this.toggleAll=f,this.multiSelect=i,this.multiUnselect=j,this.multiToggleSelect=k,this.multiSelections=y,this.multiSelectedObjects=z,this.multiSelectedIndexes=A,this.getList=o,this.list=v};return a}),angular.module("ng-puremodels").factory("tree",["selectableList",function(a){var b=function(b,c){function d(a,b,d){var e={path:[],parent:b,data:d,leaf:!0,loading:!0,expanded:!1};return e.leaf=c.isLeaf(d),void 0===b?e:(e.path=b.path.slice(0),e.path.push(a),e.id=e.path.join("-"),e)}function e(a){a.selected=!0,C=a}function f(a,b){a.selected=!0,C=a,o(a,b)}function g(a){a.selected=!1}function h(){return C}function i(){return void 0!==h()?h().id:"-1"}function j(a){for(var b=D,c=0;c<a.length;c++)b=b.children[a[c]];return b}function k(){if(void 0===h())return void 0;var a=l(h().path);return a}function l(a){for(var b=[D],c=D,d=0;d<a.length;d++)c=c.children[a[d]],b.push(c);return b}function m(a){n(a,function(){z()})}function n(a,b){a.expanded=!0,o(a,b)}function o(b,e){void 0===e&&(e=function(){}),b.leaf||(void 0===b.children?(b.loading=!0,c.getChildren(b.data,function(c){b.loading=!1,b.children=[];for(var f=0;f<c.length;f++){var g=d(f,b,c[f]);b.children.push(g)}b.selectableChildren=new a(b.children),void 0!==e&&e(b)},function(a){b.loading=!1,b.error=a,b.children=void 0,void 0!==e&&e(b)})):void 0!==e&&e(b))}function p(a,b){a.leaf?b():n(a,function(a){for(var c=0,d=0;d<a.children.length;d++){var e=a.children[d];p(e,function(){c++,c===a.children.length&&b()})}})}function q(a){void 0===a&&(a=A.rootNode),console.log("collapse:",a.path),r(a),z()}function r(a){if(!a.leaf){a.expanded=!1;for(var b=0;b<a.children.length;b++){var c=a.children[b];r(c)}}}function s(a){for(var b=a,c=void 0;void 0===c;){var b=b.parent;if(void 0===b)break;var d=b.path[b.path.length-1],e=d+1;if(void 0!==b.parent&&b.parent.children.length!==e){c=b.parent.children[e];break}}return c}function t(a,b){if(void 0===a)return void b(D);if(a.leaf&&void 0===a.parent)return void b(void 0);var c=a.path[a.path.length-1],d=c+1;if(a.leaf){if(a.parent.children.length!==d)return void b(a.parent.children[d]);b(s(a))}else n(a,function(a){return void 0!==a.children&&a.children.length>0?void b(a.children[0]):void b(s(a))})}function u(a){a.expanded=!1,z()}function v(a){a.expanded===!1?m(a):u(a)}function w(a){v(a),e(a)}function x(a){e(a),m(a.parent)}function y(a,b){if(b.push(a),a.expanded)for(var c=0;c<a.children.length;c++){var d=a.children[c];y(d,b)}}function z(){var a=[];return y(D,a),D.expandedNodesAndLeafs=a,a}var A=this,B=b,C=void 0,c=c;void 0===c&&(c={isLeaf:function(a){return void 0===a.children},getUid:function(a){return void 0!==a.id?a.id:void 0!==a.uid?a.uid:void 0!==a.name?a.name:void 0},getChildren:function(a,b){b(a.children)}});var D=d(-1,void 0,B);z(),this.rootNode=D,this.expandNode=m,this.collapseNode=u,this.toggleExpandNode=v,this.selectNode=e,this.unselectNode=g,this.getLastNodeByPath=j,this.getNodesByPath=l,this.getNodesBySelectedPath=k,this.toggleAndSelectExpandNode=w,this.selectNodeAndLoadChildren=f,this.selectNodeAndExpandParent=x,this.loadNodeChildrenAsync=o,this.getSelectedNode=h,this.getSelectedNodeId=i,this.nextNode=t,this.expandAllAsync=p,this.collapseAll=q};return b}]),angular.module("ng-puremodels",[]),angular.module("ng-puremodels").factory("selectableList",function(){var a=function(a){function b(a){for(;a.length;)a.pop()}function c(){b(z),b(A);for(var a=0;a<v.length;a++)y[a]===!0&&(z.push(v[a]),A.push(a))}function d(){for(var a=!1,b=0;b<v.length;b++)y[b]===!0&&(a=!0),y[b]=!1;a&&h(-1,!1)}function e(){for(var a=!1,b=0;b<v.length;b++)y[b]===!1&&(a=!0),y[b]=!0;a&&h(-1,!0)}function f(){for(var a=0;a<v.length;a++)y[a]=!y[a];h(-1,void 0)}function g(a,b){var c=y[a];y[a]=b,console.log("oldValue:",c,"value :",b),c!==b&&h(a,b)}function h(a,b){c();try{void 0!==u.fireChangeMultiSelectionEvent&&u.fireChangeMultiSelectionEvent(a,b)}catch(d){console.log(d)}}function i(a){g(a,!0)}function j(a){g(a,!1)}function k(a){g(a,!y[a])}function l(){return w}function m(a){if(w!==a){var b=w,c=x;-1>a||a>=v.length||(w=a,x=-1===a?void 0:v[a],n(c,x,b,w))}}function n(a,b,c){try{void 0!==u.fireChangeSelectionEvent&&u.fireChangeSelectionEvent(a,x,c,w)}catch(d){console.log(d)}}function o(){return v}function p(a){m(a)}function q(){m(-1)}function r(a){m(w===a?-1:a)}function s(a,b){console.log("multi selection:",a,";",b)}function t(a,b,c,d){console.log("selection:",a,";",b,";",c,";",d)}for(var u=this,v=a.slice(0),w=-1,x=void 0,y=[],z=[],A=[],B=0;B<v.length;B++)y.push(!1);this.getSelectedIndex=l,this.selectIndex=p,this.unselectIndex=q,this.toggleIndex=r,this.fireChangeSelectionEvent=t,this.fireChangeMultiSelectionEvent=s,this.unselectAll=d,this.selectAll=e,this.toggleAll=f,this.multiSelect=i,this.multiUnselect=j,this.multiToggleSelect=k,this.multiSelections=y,this.multiSelectedObjects=z,this.multiSelectedIndexes=A,this.getList=o,this.list=v};return a}),angular.module("ng-puremodels").factory("tree",["selectableList",function(a){var b=function(b,c){function d(a,b,d){var e={path:[],parent:b,data:d,leaf:!0,loading:!0,expanded:!1};return e.leaf=c.isLeaf(d),void 0===b?e:(e.path=b.path.slice(0),e.path.push(a),e.id=e.path.join("-"),e)}function e(a){a.selected=!0,C=a}function f(a,b){a.selected=!0,C=a,o(a,b)}function g(a){a.selected=!1}function h(){return C}function i(){return void 0!==h()?h().id:"-1"}function j(a){for(var b=D,c=0;c<a.length;c++)b=b.children[a[c]];return b}function k(){if(void 0===h())return void 0;var a=l(h().path);return a}function l(a){for(var b=[D],c=D,d=0;d<a.length;d++)c=c.children[a[d]],b.push(c);return b}function m(a){n(a,function(){z()})}function n(a,b){a.expanded=!0,o(a,b)}function o(b,e){void 0===e&&(e=function(){}),b.leaf||(void 0===b.children?(b.loading=!0,c.getChildren(b.data,function(c){b.loading=!1,b.children=[];for(var f=0;f<c.length;f++){var g=d(f,b,c[f]);b.children.push(g)}b.selectableChildren=new a(b.children),void 0!==e&&e(b)},function(a){b.loading=!1,b.error=a,b.children=void 0,void 0!==e&&e(b)})):void 0!==e&&e(b))}function p(a,b){a.leaf?b():n(a,function(a){for(var c=0,d=0;d<a.children.length;d++){var e=a.children[d];p(e,function(){c++,c===a.children.length&&b()})}})}function q(a){void 0===a&&(a=A.rootNode),console.log("collapse:",a.path),r(a),z()}function r(a){if(!a.leaf){a.expanded=!1;for(var b=0;b<a.children.length;b++){var c=a.children[b];r(c)}}}function s(a){for(var b=a,c=void 0;void 0===c;){var b=b.parent;if(void 0===b)break;var d=b.path[b.path.length-1],e=d+1;if(void 0!==b.parent&&b.parent.children.length!==e){c=b.parent.children[e];break}}return c}function t(a,b){if(void 0===a)return void b(D);if(a.leaf&&void 0===a.parent)return void b(void 0);var c=a.path[a.path.length-1],d=c+1;if(a.leaf){if(a.parent.children.length!==d)return void b(a.parent.children[d]);b(s(a))}else n(a,function(a){return void 0!==a.children&&a.children.length>0?void b(a.children[0]):void b(s(a))})}function u(a){a.expanded=!1,z()}function v(a){a.expanded===!1?m(a):u(a)}function w(a){v(a),e(a)}function x(a){e(a),m(a.parent)}function y(a,b){if(b.push(a),a.expanded)for(var c=0;c<a.children.length;c++){var d=a.children[c];y(d,b)}}function z(){var a=[];return y(D,a),D.expandedNodesAndLeafs=a,a}var A=this,B=b,C=void 0,c=c;void 0===c&&(c={isLeaf:function(a){return void 0===a.children},getUid:function(a){return void 0!==a.id?a.id:void 0!==a.uid?a.uid:void 0!==a.name?a.name:void 0},getChildren:function(a,b){b(a.children)}});var D=d(-1,void 0,B);z(),this.rootNode=D,this.expandNode=m,this.collapseNode=u,this.toggleExpandNode=v,this.selectNode=e,this.unselectNode=g,this.getLastNodeByPath=j,this.getNodesByPath=l,this.getNodesBySelectedPath=k,this.toggleAndSelectExpandNode=w,this.selectNodeAndLoadChildren=f,this.selectNodeAndExpandParent=x,this.loadNodeChildrenAsync=o,this.getSelectedNode=h,this.getSelectedNodeId=i,this.nextNode=t,this.expandAllAsync=p,this.collapseAll=q};return b}]),angular.module("ng-puremodels",[]),angular.module("ng-puremodels").factory("selectableList",function(){var a=function(a){function b(){return l
}function c(a){if(l!==a){var b=l,c=m;-1>a||a>=k.length||(l=a,m=-1===a?void 0:k[a],d(c,m,b,l))}}function d(a,b,c){try{void 0!==j.fireChangeSelectionEvent&&j.fireChangeSelectionEvent(a,m,c,l)}catch(d){console.log(d)}}function e(){return k}function f(a){c(a)}function g(){c(-1)}function h(a){c(l===a?-1:a)}function i(a,b,c,d){console.log("selection:",a,";",b,";",c,";",d)}var j=this,k=a.slice(0),l=-1,m=void 0;this.getSelectedIndex=b,this.getList=e,this.selectIndex=f,this.unselectIndex=g,this.toggleIndex=h,this.fireChangeSelectionEvent=i};return a}),angular.module("ng-puremodels").factory("tree",function(){var a=function(b,c){function d(a,b,d){var e={path:[],parent:b,data:d,leaf:!0,loading:!0,expanded:!1};return e.leaf=c.isLeaf(d),void 0===b?e:(e.path=b.path.slice(0),e.path.push(a),e.id=e.path.join("-"),e)}function e(a){a.selected=!0,r=a}function f(a){a.selected=!1}function g(){return r}function h(){return void 0!==g()?g().id:"-1"}function i(a){for(var b=s,c=0;c<a.length;c++)b=b.children[a[c]];return b}function j(a){for(var b=[s],c=s,d=0;d<a.length;d++)c=c.children[a[d]],b.push(c);return b}function k(b){b.expanded=!0,b.leaf||(void 0===b.children&&(a.loading=!0,c.getChildren(b.data,function(c){a.loading=!1,b.children=[];for(var e=0;e<c.length;e++){var f=d(e,b,c[e]);b.children.push(f)}},function(){a.loading=!1,b.children=void 0})),p())}function l(a){a.expanded=!1,p()}function m(a){a.expanded===!1?k(a):l(a)}function n(a){m(a),e(a)}function o(a,b){if(b.push(a),a.expanded)for(var c=0;c<a.children.length;c++){var d=a.children[c];o(d,b)}}function p(){var a=[];return o(s,a),s.expandedNodesAndLeafs=a,a}var q=b,r=void 0,c=c;void 0===c&&(c={isLeaf:function(a){return void 0===a.children},getChildren:function(a,b){b(a.children)}});var s=d(-1,void 0,q);p(),this.rootNode=s,this.expandNode=k,this.collapseNode=l,this.toggleExpandNode=m,this.selectNode=e,this.unselectNode=f,this.getLastNodeByPath=i,this.getNodesByPath=j,this.toggleAndSelectExpandNode=n,this.getSelectedNode=g,this.getSelectedNodeId=h};return a}),angular.module("ng-puremodels",[]),angular.module("ng-puremodels").factory("selectableList",function(){var a=function(a){function b(){return l}function c(a){if(l!==a){var b=l,c=m;-1>a||a>=k.length||(l=a,m=-1===a?void 0:k[a],d(c,m,b,l))}}function d(a,b,c){try{void 0!==j.fireChangeSelectionEvent&&j.fireChangeSelectionEvent(a,m,c,l)}catch(d){console.log(d)}}function e(){return k}function f(a){c(a)}function g(){c(-1)}function h(a){c(l===a?-1:a)}function i(a,b,c,d){console.log("selection:",a,";",b,";",c,";",d)}var j=this,k=a.slice(0),l=-1,m=void 0;this.getSelectedIndex=b,this.getList=e,this.selectIndex=f,this.unselectIndex=g,this.toggleIndex=h,this.fireChangeSelectionEvent=i};return a}),angular.module("ng-puremodels").factory("tree",function(){var a=function(b,c){function d(a,b,d){var e={path:[],parent:b,data:d,leaf:!0,loading:!0,expanded:!1};return e.leaf=c.isLeaf(d),void 0===b?e:(e.path=b.path.slice(0),e.path.push(a),e.id=e.path.join("-"),e)}function e(a){a.selected=!0,r=a}function f(a){a.selected=!1}function g(){return r}function h(){return void 0!==g()?g().id:"-1"}function i(a){for(var b=s,c=0;c<a.length;c++)b=b.children[a[c]];return b}function j(a){for(var b=[s],c=s,d=0;d<a.length;d++)c=c.children[a[d]],b.push(c);return b}function k(b){b.expanded=!0,b.leaf||(void 0===b.children&&(a.loading=!0,c.getChildren(b.data,function(c){a.loading=!1,b.children=[];for(var e=0;e<c.length;e++){var f=d(e,b,c[e]);b.children.push(f)}},function(){a.loading=!1,b.children=void 0})),p())}function l(a){a.expanded=!1,p()}function m(a){a.expanded===!1?k(a):l(a)}function n(a){m(a),e(a)}function o(a,b){if(b.push(a),a.expanded)for(var c=0;c<a.children.length;c++){var d=a.children[c];o(d,b)}}function p(){var a=[];return o(s,a),s.expandedNodesAndLeafs=a,a}var q=b,r=void 0,c=c;void 0===c&&(c={isLeaf:function(a){return void 0===a.children},getChildren:function(a,b){b(a.children)}});var s=d(-1,void 0,q);p(),this.rootNode=s,this.expandNode=k,this.collapseNode=l,this.toggleExpandNode=m,this.selectNode=e,this.unselectNode=f,this.getLastNodeByPath=i,this.getNodesByPath=j,this.toggleAndSelectExpandNode=n,this.getSelectedNode=g,this.getSelectedNodeId=h};return a}),angular.module("ng-puremodels",[]),angular.module("ng-puremodels").factory("selectableList",function(){var a=function(a){function b(){return l}function c(a){if(l!==a){var b=l,c=m;-1>a||a>=k.length||(l=a,m=-1===a?void 0:k[a],d(c,m,b,l))}}function d(a,b,c){try{void 0!==j.fireChangeSelectionEvent&&j.fireChangeSelectionEvent(a,m,c,l)}catch(d){console.log(d)}}function e(){return k}function f(a){c(a)}function g(){c(-1)}function h(a){c(l===a?-1:a)}function i(a,b,c,d){console.log("selection:",a,";",b,";",c,";",d)}var j=this,k=a.slice(0),l=-1,m=void 0;this.getSelectedIndex=b,this.getList=e,this.selectIndex=f,this.unselectIndex=g,this.toggleIndex=h,this.fireChangeSelectionEvent=i};return a}),angular.module("ng-puremodels").factory("tree",function(){var a=function(b,c){function d(a,b,d){var e={path:[],parent:b,data:d,leaf:!0,loading:!0,expanded:!1};return e.leaf=c.isLeaf(d),void 0===b?e:(e.path=b.path.slice(0),e.path.push(a),e.id=e.path.join("-"),e)}function e(a){a.selected=!0,r=a}function f(a){a.selected=!1}function g(){return r}function h(){return void 0!==g()?g().id:"-1"}function i(a){for(var b=s,c=0;c<a.length;c++)b=b.children[a[c]];return b}function j(a){for(var b=[s],c=s,d=0;d<a.length;d++)c=c.children[a[d]],b.push(c);return b}function k(b){b.expanded=!0,b.leaf||(void 0===b.children&&(a.loading=!0,c.getChildren(b.data,function(c){a.loading=!1,b.children=[];for(var e=0;e<c.length;e++){var f=d(e,b,c[e]);b.children.push(f)}},function(){a.loading=!1,b.children=void 0})),p())}function l(a){a.expanded=!1,p()}function m(a){a.expanded===!1?k(a):l(a)}function n(a){m(a),e(a)}function o(a,b){if(b.push(a),a.expanded)for(var c=0;c<a.children.length;c++){var d=a.children[c];o(d,b)}}function p(){var a=[];return o(s,a),s.expandedNodesAndLeafs=a,a}var q=b,r=void 0,c=c;void 0===c&&(c={isLeaf:function(a){return void 0===a.children},getChildren:function(a,b){b(a.children)}});var s=d(-1,void 0,q);p(),this.rootNode=s,this.expandNode=k,this.collapseNode=l,this.toggleExpandNode=m,this.selectNode=e,this.unselectNode=f,this.getLastNodeByPath=i,this.getNodesByPath=j,this.toggleAndSelectExpandNode=n,this.getSelectedNode=g,this.getSelectedNodeId=h};return a}),angular.module("ng-puremodels").run(["$templateCache",function(a){"use strict";a.put("dev/directives/button.html",'<button ng-if="action.visible"\r\n        class="{{action.btnClasses}} {{btnClasses}}"\r\n        ng-click="action.invoke()"\r\n        ng-disabled="action.disable">\r\n    <i class="{{action.iconClasses}} {{iconClasses}}"></i>\r\n    <span translate>{{action.text}}</span>\r\n</button>'),a.put("dev/directives/group_button.html",'<div class="btn-group {{btnGroupGlasses}}" role="group" >\r\n    <button ng-repeat="action in actions"\r\n            class="{{action.btnClasses}}"\r\n            ng-click="action.invoke()"\r\n            ng-disable="action.state">\r\n        <i class="{{action.iconClasses}}"></i>\r\n        <span translate>{{action.text}}</span>\r\n    </button>\r\n</div>'),a.put("dev/directives/sort-th.html",'<span ng-click="sorting.sortToggle(pname)"\r\n      style="height : inherit; line-height: inherit" class="pull-right fa-stack">\r\n   <i class="fa fa-sort fa-stack-1x"></i>\r\n'+"   <i class=\"fa fa-stack-1x ng-class:sorting.getStatusVerbose(pname, ['text-danger fa-sort-asc', 'fa-sort', 'text-primary fa-sort-desc'])\"></i>\r\n</span>")}]),angular.module("ng-puremodels").run(["$templateCache",function(a){"use strict";a.put("dev/directives/button.html",'<button ng-if="action.visible"\r\n        class="{{action.btnClasses}} {{btnClasses}}"\r\n        ng-click="action.invoke()"\r\n        ng-disabled="action.disable">\r\n    <i class="{{action.iconClasses}} {{iconClasses}}"></i>\r\n    <span translate>{{action.text}}</span>\r\n</button>'),a.put("dev/directives/group_button.html",'<div class="btn-group {{btnGroupGlasses}}" role="group" >\r\n    <button ng-repeat="action in actions"\r\n            class="{{action.btnClasses}}"\r\n            ng-click="action.invoke()"\r\n            ng-disable="action.state">\r\n        <i class="{{action.iconClasses}}"></i>\r\n        <span translate>{{action.text}}</span>\r\n    </button>\r\n</div>'),a.put("dev/directives/sort-th.html",'<span ng-click="sorting.sortToggle(pname)"\r\n      style="height : inherit; line-height: inherit" class="pull-right fa-stack">\r\n   <i class="fa fa-sort fa-stack-1x"></i>\r\n'+"   <i class=\"fa fa-stack-1x ng-class:sorting.getStatusVerbose(pname, ['text-danger fa-sort-asc', 'fa-sort', 'text-primary fa-sort-desc'])\"></i>\r\n</span>")}]);